<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Table Scraping in R – SDS 264: Data Science 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">

<script src="site_libs/leaflet-1.3.1/leaflet.js"></script>

<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">

<script src="site_libs/proj4-2.6.2/proj4.min.js"></script>

<script src="site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>

<link href="site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">

<script src="site_libs/leaflet-binding-2.2.2/leaflet.js"></script>



<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">SDS 264: Data Science 2</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tech-notes" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Tech Notes</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-tech-notes">    
        <li>
    <a class="dropdown-item" href="./tech_setup.html">
 <span class="dropdown-text">Tech Setup</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./why_quarto.html">
 <span class="dropdown-text">Why Quarto?</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./github_intro.html">
 <span class="dropdown-text">Intro to GitHub</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./github_links.html">
 <span class="dropdown-text">GitHub Links</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-activities" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Activities</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-activities">    
        <li>
    <a class="dropdown-item" href="./01_review164.html">
 <span class="dropdown-text">Review of Data Science 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./02_maps.html">
 <span class="dropdown-text">Creating informative maps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./03_functions.html">
 <span class="dropdown-text">Functions and tidy evaluation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./04_code_quality.html">
 <span class="dropdown-text">Code quality</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./05_iteration.html">
 <span class="dropdown-text">Iteration</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./06_data_types.html">
 <span class="dropdown-text">Data types</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./07_apis.html">
 <span class="dropdown-text">Data Acquisition with APIs in R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./08_table_scraping.html">
 <span class="dropdown-text">Table Scraping in R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./09_web_scraping.html">
 <span class="dropdown-text">Web Scraping in R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./10_strings_part1.html">
 <span class="dropdown-text">Strings: Pre-class Video (Part 1)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./11_strings_part2.html">
 <span class="dropdown-text">Strings: In-class Exercises (Part 2)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./12_strings_part3.html">
 <span class="dropdown-text">Strings: Extra Practice (Part 3)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./13_text_analysis.html">
 <span class="dropdown-text">Text analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./14_first_shiny_instructions.html">
 <span class="dropdown-text">First Shiny instructions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./16_SQL_exercises.html">
 <span class="dropdown-text">SQL: Exercises</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="./miniproject1.html">
 <span class="dropdown-text">Mini-Project 1: Maps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./miniproject2.html">
 <span class="dropdown-text">Mini-Project 2: Data Acquisition</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./miniproject3.html">
 <span class="dropdown-text">Mini-Project 3: Building a Personal Quarto Webpage</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./miniproject4.html">
 <span class="dropdown-text">Mini-Project 4: Text Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./finalproject.html">
 <span class="dropdown-text">Final Project: Interactive Data Storytelling</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./rtipoftheday.html"> 
<span class="menu-text">R Tip of the Day</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./08_table_scraping.html">Table Scraping in R</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_review164.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Review of Data Science 1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_maps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Creating informative maps</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Functions and tidy evaluation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_code_quality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code quality</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_iteration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Iteration</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_data_types.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data types</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_apis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Acquisition with APIs in R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_table_scraping.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Table Scraping in R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_web_scraping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Web Scraping in R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_strings_part1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Strings: Pre-class Video (Part 1)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11_strings_part2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Strings: In-class Exercises (Part 2)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12_strings_part3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Strings: Extra Practice (Part 3)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13_text_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Text analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14_first_shiny_instructions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">First Shiny instructions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16_SQL_exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SQL: Exercises</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#using-rvest-for-web-scraping" id="toc-using-rvest-for-web-scraping" class="nav-link active" data-scroll-target="#using-rvest-for-web-scraping">Using rvest for web scraping</a>
  <ul class="collapse">
  <li><a href="#four-steps-to-scraping-data-with-functions-in-the-rvest-library" id="toc-four-steps-to-scraping-data-with-functions-in-the-rvest-library" class="nav-link" data-scroll-target="#four-steps-to-scraping-data-with-functions-in-the-rvest-library">Four steps to scraping data with functions in the <code>rvest</code> library:</a></li>
  <li><a href="#data-scraping-ethics" id="toc-data-scraping-ethics" class="nav-link" data-scroll-target="#data-scraping-ethics">Data scraping ethics</a></li>
  <li><a href="#when-the-data-is-already-in-table-form" id="toc-when-the-data-is-already-in-table-form" class="nav-link" data-scroll-target="#when-the-data-is-already-in-table-form">When the data is already in table form:</a>
  <ul class="collapse">
  <li><a href="#leaflet-mapping-example-with-data-in-table-form" id="toc-leaflet-mapping-example-with-data-in-table-form" class="nav-link" data-scroll-target="#leaflet-mapping-example-with-data-in-table-form">Leaflet mapping example with data in table form</a></li>
  <li><a href="#on-your-own" id="toc-on-your-own" class="nav-link" data-scroll-target="#on-your-own">On Your Own</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Table Scraping in R</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>You can download this .qmd file from <a href="https://github.com/proback/264_fall_2024/blob/main/08_table_scraping.qmd">here</a>. Just hit the Download Raw File button.</p>
<section id="using-rvest-for-web-scraping" class="level1">
<h1>Using rvest for web scraping</h1>
<p>If you would like to assemble data from a website with no API, you can often acquire data using more brute force methods commonly called web scraping. Typically, this involves finding content inside HTML (Hypertext markup language) code used for creating webpages and web applications and the CSS (Cascading style sheets) language for customizing the appearance of webpages. We are used to reading data from .csv files…. but most websites have it stored in XML (like html, but for data). You can read more about it here if you’re interested: https://www.w3schools.com/xml/default.asp</p>
<p>XML has a sort of tree or graph-like structure… so we can identify information by which <code>node</code> it belongs to (<code>html_nodes</code>) and then convert the content into something we can use in R (<code>html_text</code> or <code>html_table</code>).</p>
<p>Here’s one quick example of web scraping. First check out the webpage https://www.cheese.com/by_type and then select Semi-Soft. We can drill into the html code for this webpage and find and store specific information (like cheese names)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>session <span class="ot">&lt;-</span> <span class="fu">bow</span>(<span class="st">"https://www.cheese.com/by_type"</span>, <span class="at">force =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">scrape</span>(session, <span class="at">query=</span><span class="fu">list</span>(<span class="at">t=</span><span class="st">"semi-soft"</span>, <span class="at">per_page=</span><span class="dv">100</span>)) <span class="sc">|&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="st">"#main-body"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="st">"h3"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text</span>()</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "American Cheese"     "Mozzarella"          "Taleggio"           
[4] "Fontina Val d'Aosta" "Blue Cheese"         "Jarlsberg"          </code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "3-Cheese Italian Blend"  "Abbaye de Citeaux"      </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3] "Abbaye du Mont des Cats" "Adelost"                </span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5] "ADL Brick Cheese"        "Ailsa Craig"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="four-steps-to-scraping-data-with-functions-in-the-rvest-library" class="level2">
<h2 class="anchored" data-anchor-id="four-steps-to-scraping-data-with-functions-in-the-rvest-library">Four steps to scraping data with functions in the <code>rvest</code> library:</h2>
<ol start="0" type="1">
<li><code>robotstxt::paths_allowed()</code> Check if the website allows scraping, and then make sure we scrape “politely”</li>
<li><code>read_html()</code>. Input the URL containing the data and turn the html code into an XML file (another markup format that’s easier to work with).</li>
<li><code>html_nodes()</code>. Extract specific nodes from the XML file by using the CSS path that leads to the content of interest. (use css=“table” for tables.)</li>
<li><code>html_text()</code>. Extract content of interest from nodes. Might also use <code>html_table()</code> etc.</li>
</ol>
</section>
<section id="data-scraping-ethics" class="level2">
<h2 class="anchored" data-anchor-id="data-scraping-ethics">Data scraping ethics</h2>
<p>Before scraping, we should always check first whether the website allows scraping. We should also consider if there’s any personal or confidential information, and we should be considerate to not overload the server we’re scraping from.</p>
<p><a href="https://r4ds.hadley.nz/webscraping#scraping-ethics-and-legalities">Chapter 24 in R4DS</a> provides a nice overview of some of the important issues to consider. A couple of highlights:</p>
<ul>
<li>be aware of terms of service, and, if available, the <code>robots.txt</code> file that some websites will publish to clarify what can and cannot be scraped and other constraints about scraping.</li>
<li>use the <a href="https://github.com/dmi3kno/polite"><code>polite</code> package</a> to scrape public, non-personal, and factual data in a respectful manner</li>
<li>scrape with a good purpose and request only what you need; in particular, be extremely wary of personally identifiable information</li>
</ul>
<p>See <a href="https://towardsdatascience.com/ethics-in-web-scraping-b96b18136f01">this article</a> for more perspective on the ethics of data scraping.</p>
</section>
<section id="when-the-data-is-already-in-table-form" class="level2">
<h2 class="anchored" data-anchor-id="when-the-data-is-already-in-table-form">When the data is already in table form:</h2>
<p>In this example, we will scrape climate data from <a href="https://www.usclimatedata.com/climate/minneapolis/minnesota/united-states/usmn0503">this website</a></p>
<p>The website already contains data in table form, so we use <code>html_nodes(. , css = "table")</code> and <code>html_table()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check that scraping is allowed (Step 0)</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>robotstxt<span class="sc">::</span><span class="fu">paths_allowed</span>(<span class="st">"https://www.usclimatedata.com/climate/minneapolis/minnesota/united-states/usmn0503"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
 www.usclimatedata.com                      </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: read_html()</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>mpls <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">"https://www.usclimatedata.com/climate/minneapolis/minnesota/united-states/usmn0503"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2: html_nodes()</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>tables <span class="ot">&lt;-</span> <span class="fu">html_nodes</span>(mpls, <span class="at">css =</span> <span class="st">"table"</span>) </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>tables  <span class="co"># have to guesstimate which table contains climate info</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{xml_nodeset (8)}
[1] &lt;table id="monthly_table_one" class="table table-hover tablesaw tablesaw- ...
[2] &lt;table id="monthly_table_two" class="table table-hover tablesaw tablesaw- ...
[3] &lt;table class="table table-hover tablesaw tablesaw-mode-swipe mt-4 daily_t ...
[4] &lt;table class="table table-hover tablesaw tablesaw-mode-swipe mt-4 history ...
[5] &lt;table class="table table-striped table-hover tablesaw tablesaw-mode-swip ...
[6] &lt;table class="table table-hover tablesaw geo_table"&gt;\n&lt;thead&gt;&lt;tr&gt;\n&lt;th&gt;&nbsp;&lt; ...
[7] &lt;table class="table table-hover tablesaw datetime_table" data-tablesaw-hi ...
[8] &lt;table class="table table-hover tablesaw monthly_summary_table" data-tabl ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3: html_table()</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">html_table</span>(tables, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>)    <span class="co"># find the right table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
# A tibble: 6 × 7
  ``                                    JanJa  FebFe  MarMa  AprAp  MayMa  JunJu
  &lt;chr&gt;                                 &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 Average high in ºF Av. high Hi         24    29     41     58     69     79   
2 Average low in ºF Av. low Lo            8    13     24     37     49     59   
3 Days with precipitation Days precip.…   8     7     11      9     11     13   
4 Hours of sunshine Hours sun. Sun      140   166    200    231    272    302   
5 Av. precipitation in inch Av. precip…   0.9   0.77   1.89   2.66   3.36   4.25
6 Av. snowfall in inch Snowfall Sn       12     8     10      3      0      0   

[[2]]
# A tibble: 6 × 7
  ``                                     JulJu AugAu  SepSe  OctOc  NovNo  DecDe
  &lt;chr&gt;                                  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 Average high in ºF Av. high Hi         83     80    72     58     41     27   
2 Average low in ºF Av. low Lo           64     62    52     40     26     12   
3 Days with precipitation Days precip.…  10     10     9      8      8      8   
4 Hours of sunshine Hours sun. Sun      343    296   237    193    115    112   
5 Av. precipitation in inch Av. precip…   4.04   4.3   3.08   2.43   1.77   1.16
6 Av. snowfall in inch Snowfall Sn        0      0     0      1      9     12   

[[3]]
# A tibble: 31 × 7
   Day    HighºF LowºF `Prec/moinch` `Prec/yrinch` `Snow/moinch` `Snow/yrinch`
   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;
 1 1 Jan    23.8   8.3          0.04          0.04          0.39           1  
 2 2 Jan    23.7   8.2          0.08          0.08          0.71           1.8
 3 3 Jan    23.6   8.1          0.12          0.12          1.1            2.8
 4 4 Jan    23.5   7.9          0.12          0.12          1.5            3.8
 5 5 Jan    23.5   7.8          0.16          0.16          1.81           4.6
 6 6 Jan    23.4   7.7          0.2           0.2           2.2            5.6
 7 7 Jan    23.4   7.6          0.24          0.24          2.6            6.6
 8 8 Jan    23.3   7.5          0.28          0.28          3.11           7.9
 9 9 Jan    23.3   7.4          0.28          0.28          3.5            8.9
10 10 Jan   23.3   7.3          0.31          0.31          3.9            9.9
# ℹ 21 more rows

[[4]]
# A tibble: 26 × 6
   Day    HighºF LowºF Precip.inch Snowinch `Snow d.inch`
   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;            &lt;dbl&gt;
 1 01 Dec   32    19   0.07        1.61                 7
 2 02 Dec   27    12   0.00        0.00                 6
 3 03 Dec   37.9  19.9 0.00        0.00                 6
 4 04 Dec   39    24.1 0.00        0.00                 6
 5 05 Dec   37    21.9 0.00        0.00                 5
 6 06 Dec   32    17.1 0.00        0.00                 5
 7 07 Dec   42.1  21.9 0.00        0.00                 5
 8 08 Dec   41    30.9 0.00        0.00                 5
 9 09 Dec   34    -0.9 0.16        2.52                 5
10 10 Dec    8.1  -4   T           T                    7
# ℹ 16 more rows

[[5]]
# A tibble: 9 × 4
  ``                                          `Dec 19`    ``    Normal     
  &lt;chr&gt;                                       &lt;chr&gt;       &lt;lgl&gt; &lt;chr&gt;      
1 "Average high temperature Av. high temp."   "29.9 ºF"   NA    "27 ºF"    
2 "Average low temperature Av. low temp."     "14.6 ºF"   NA    "12 ºF"    
3 "Total precipitation Total precip."         "0.39 inch" NA    "1.16 inch"
4 "Total snowfall Total snowfall"             "6.33 inch" NA    "12 inch"  
5 ""                                          ""          NA    ""         
6 "Highest max temperature Highest max temp." "44.1 ºF"   NA    "-"        
7 "Lowest max temperature Lowest max temp."   "8.1 ºF"    NA    "-"        
8 "Highest min temperature Highest min temp." "32.0 ºF"   NA    "-"        
9 "Lowest min temperature Lowest min temp."   "-5.1 ºF"   NA    "-"        

[[6]]
# A tibble: 10 × 3
   ``                   ``                ``   
   &lt;chr&gt;                &lt;chr&gt;             &lt;lgl&gt;
 1 Country              United States     NA   
 2 State                Minnesota         NA   
 3 County               Hennepin          NA   
 4 City                 Minneapolis       NA   
 5 Zip code             55401             NA   
 6 Longitude            -93.27 dec. degr. NA   
 7 Latitude             44.98 dec. degr.  NA   
 8 Altitude - Elevation 840ft             NA   
 9 ICAO                 -                 NA   
10 IATA                 -                 NA   

[[7]]
# A tibble: 6 × 3
  ``          ``              ``   
  &lt;chr&gt;       &lt;chr&gt;           &lt;lgl&gt;
1 Local Time  11:42 AM        NA   
2 Sunrise     07:06 AM        NA   
3 Sunset      05:47 PM        NA   
4 Day / Night Day             NA   
5 Timezone    Chicago -6:00   NA   
6 Timezone DB America/Chicago NA   

[[8]]
# A tibble: 6 × 2
  ``                         ``        
  &lt;chr&gt;                      &lt;chr&gt;     
1 Annual high temperature    55ºF      
2 Annual low temperature     37ºF      
3 Days per year with precip. 112 days  
4 Annual hours of sunshine   2607 hours
5 Average annual precip.     30.61 inch
6 Av. annual snowfall        55 inch   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>mpls_data1 <span class="ot">&lt;-</span> <span class="fu">html_table</span>(tables, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>)[[<span class="dv">1</span>]]  </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>mpls_data1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 7
  ``                                    JanJa  FebFe  MarMa  AprAp  MayMa  JunJu
  &lt;chr&gt;                                 &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 Average high in ºF Av. high Hi         24    29     41     58     69     79   
2 Average low in ºF Av. low Lo            8    13     24     37     49     59   
3 Days with precipitation Days precip.…   8     7     11      9     11     13   
4 Hours of sunshine Hours sun. Sun      140   166    200    231    272    302   
5 Av. precipitation in inch Av. precip…   0.9   0.77   1.89   2.66   3.36   4.25
6 Av. snowfall in inch Snowfall Sn       12     8     10      3      0      0   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>mpls_data2 <span class="ot">&lt;-</span> <span class="fu">html_table</span>(tables, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>)[[<span class="dv">2</span>]]  </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>mpls_data2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 7
  ``                                     JulJu AugAu  SepSe  OctOc  NovNo  DecDe
  &lt;chr&gt;                                  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 Average high in ºF Av. high Hi         83     80    72     58     41     27   
2 Average low in ºF Av. low Lo           64     62    52     40     26     12   
3 Days with precipitation Days precip.…  10     10     9      8      8      8   
4 Hours of sunshine Hours sun. Sun      343    296   237    193    115    112   
5 Av. precipitation in inch Av. precip…   4.04   4.3   3.08   2.43   1.77   1.16
6 Av. snowfall in inch Snowfall Sn        0      0     0      1      9     12   </code></pre>
</div>
</div>
<p>Now we wrap the 4 steps above into the <code>bow</code> and <code>scrape</code> functions from the <code>polite</code> package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>session <span class="ot">&lt;-</span> <span class="fu">bow</span>(<span class="st">"https://www.usclimatedata.com/climate/minneapolis/minnesota/united-states/usmn0503"</span>, <span class="at">force =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">scrape</span>(session) <span class="sc">|&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="at">css =</span> <span class="st">"table"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_table</span>(<span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>mpls_data1 <span class="ot">&lt;-</span> result[[<span class="dv">1</span>]]</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>mpls_data2 <span class="ot">&lt;-</span> result[[<span class="dv">2</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Even after finding the correct tables, there may still be a lot of work to make it tidy!!!</p>
<p><strong>[Pause to Ponder:]</strong> What is each line of code doing below?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_cols</span>(mpls_data1, mpls_data2) <span class="sc">|&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="st">`</span><span class="at">...8</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">...1</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">str_extract</span>(<span class="st">`</span><span class="at">...1</span><span class="st">`</span>, <span class="st">"[^ ]+ [^ ]+ [^ ]+"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">`</span><span class="at">JanJa</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">DecDe</span><span class="st">`</span>), </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"month"</span>, <span class="at">values_to =</span> <span class="st">"weather"</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">`</span><span class="at">...1</span><span class="st">`</span>, <span class="at">values_from =</span> weather) <span class="sc">|&gt;</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">str_sub</span>(month, <span class="dv">1</span>, <span class="dv">3</span>))  <span class="sc">|&gt;</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">avg_high =</span> <span class="st">"Average high in"</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">avg_low =</span> <span class="st">"Average low in"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...1`
• `` -&gt; `...8`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 7
   month avg_high avg_low `Days with precipitation` `Hours of sunshine`
   &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;                     &lt;dbl&gt;               &lt;dbl&gt;
 1 Jan         24       8                         8                 140
 2 Feb         29      13                         7                 166
 3 Mar         41      24                        11                 200
 4 Apr         58      37                         9                 231
 5 May         69      49                        11                 272
 6 Jun         79      59                        13                 302
 7 Jul         83      64                        10                 343
 8 Aug         80      62                        10                 296
 9 Sep         72      52                         9                 237
10 Oct         58      40                         8                 193
11 Nov         41      26                         8                 115
12 Dec         27      12                         8                 112
# ℹ 2 more variables: `Av. precipitation in` &lt;dbl&gt;, `Av. snowfall in` &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Probably want to rename the rest of the variables too!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="leaflet-mapping-example-with-data-in-table-form" class="level3">
<h3 class="anchored" data-anchor-id="leaflet-mapping-example-with-data-in-table-form">Leaflet mapping example with data in table form</h3>
<p>Let’s return to our example from <code>02_maps.qmd</code> where we recreated an <a href="https://rstudio.github.io/leaflet/articles/choropleths.html">interactive choropleth map</a> of population densities by US state. Recall how that plot was very suspicious? The population density data that came with the state geometries from <a href="https://rstudio.github.io/leaflet/json/us-states.geojson">our source</a> seemed incorrect.</p>
<p>Let’s see if we can use our new web scraping skills to scrape the correct population density data and repeat that plot! Can we go out and find the real statewise population densities, create a tidy data frame, merge that with our state geometry shapefiles, and then regenerate our plot?</p>
<p>A quick wikipedia search yields <a href="https://en.wikipedia.org/wiki/List_of_states_and_territories_of_the_United_States_by_population_density">this webpage</a> with more reasonable population densities in a nice table format. Let’s see if we can grab this data using our 4 steps to <code>rvest</code>ing data!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check that scraping is allowed (Step 0)</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>robotstxt<span class="sc">::</span><span class="fu">paths_allowed</span>(<span class="st">"https://en.wikipedia.org/wiki/List_of_states_and_territories_of_the_United_States_by_population_density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
 en.wikipedia.org                      </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: read_html()</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>pop_dens <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">"https://en.wikipedia.org/wiki/List_of_states_and_territories_of_the_United_States_by_population_density"</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2: html_nodes()</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>tables <span class="ot">&lt;-</span> <span class="fu">html_nodes</span>(pop_dens, <span class="at">css =</span> <span class="st">"table"</span>) </span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>tables  <span class="co"># have to guesstimate which table contains our desired info</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{xml_nodeset (2)}
[1] &lt;table class="wikitable sortable plainrowheaders sticky-header-multi stat ...
[2] &lt;table class="nowraplinks hlist mw-collapsible mw-collapsed navbox-inner" ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3: html_table()</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">html_table</span>(tables, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>)    <span class="co"># find the right table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
# A tibble: 61 × 6
   Location               Density Density Population `Land area` `Land area`
   &lt;chr&gt;                  &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;      
 1 Location               /mi2    /km2    Population mi2         km2        
 2 District of Columbia   11,131  4,297   678,972    61          158        
 3 New Jersey             1,263   488     9,290,841  7,354       19,047     
 4 Rhode Island           1,060   409     1,095,962  1,034       2,678      
 5 Puerto Rico            936     361     3,205,691  3,424       8,868      
 6 Massachusetts          898     347     7,001,399  7,800       20,202     
 7 Guam[4]                824     319     172,952    210         543        
 8 Connecticut            747     288     3,617,176  4,842       12,542     
 9 U.S. Virgin Islands[4] 737     284     98,750     134         348        
10 Maryland               637     246     6,180,253  9,707       25,142     
# ℹ 51 more rows

[[2]]
# A tibble: 11 × 2
   .mw-parser-output .navbar{display:inline;font-size:8…¹ .mw-parser-output .n…²
   &lt;chr&gt;                                                  &lt;chr&gt;                 
 1 "List of states and territories of the United States"  "List of states and t…
 2 "Demographics"                                         "Population\nAfrican …
 3 "Economy"                                              "Billionaires\nBudget…
 4 "Environment"                                          "Botanical gardens\nC…
 5 "Geography"                                            "Area\nBays\nBeaches\…
 6 "Government"                                           "Agriculture commissi…
 7 "Health"                                               "Changes in life expe…
 8 "History"                                              "Date of statehood\nN…
 9 "Law"                                                  "Abortion\nAge of con…
10 "Miscellaneous"                                        "Abbreviations\nAirpo…
11 "Category\n Commons\n Portals"                         "Category\n Commons\n…
# ℹ abbreviated names:
#   ¹​`.mw-parser-output .navbar{display:inline;font-size:88%;font-weight:normal}.mw-parser-output .navbar-collapse{float:left;text-align:left}.mw-parser-output .navbar-boxtext{word-spacing:0}.mw-parser-output .navbar ul{display:inline-block;white-space:nowrap;line-height:inherit}.mw-parser-output .navbar-brackets::before{margin-right:-0.125em;content:"[ "}.mw-parser-output .navbar-brackets::after{margin-left:-0.125em;content:" ]"}.mw-parser-output .navbar li{word-spacing:-0.125em}.mw-parser-output .navbar a&gt;span,.mw-parser-output .navbar a&gt;abbr{text-decoration:inherit}.mw-parser-output .navbar-mini abbr{font-variant:small-caps;border-bottom:none;text-decoration:none;cursor:inherit}.mw-parser-output .navbar-ct-full{font-size:114%;margin:0 7em}.mw-parser-output .navbar-ct-mini{font-size:114%;margin:0 4em}html.skin-theme-clientpref-night .mw-parser-output .navbar li a abbr{color:var(--color-base)!important}@media(prefers-color-scheme:dark){html.skin-theme-clientpref-os .mw-parser-output .navbar li a abbr{color:var(--color-base)!important}}@media print{.mw-parser-output .navbar{display:none!important}}vteUnited States state-related lists`,
#   ²​`.mw-parser-output .navbar{display:inline;font-size:88%;font-weight:normal}.mw-parser-output .navbar-collapse{float:left;text-align:left}.mw-parser-output .navbar-boxtext{word-spacing:0}.mw-parser-output .navbar ul{display:inline-block;white-space:nowrap;line-height:inherit}.mw-parser-output .navbar-brackets::before{margin-right:-0.125em;content:"[ "}.mw-parser-output .navbar-brackets::after{margin-left:-0.125em;content:" ]"}.mw-parser-output .navbar li{word-spacing:-0.125em}.mw-parser-output .navbar a&gt;span,.mw-parser-output .navbar a&gt;abbr{text-decoration:inherit}.mw-parser-output .navbar-mini abbr{font-variant:small-caps;border-bottom:none;text-decoration:none;cursor:inherit}.mw-parser-output .navbar-ct-full{font-size:114%;margin:0 7em}.mw-parser-output .navbar-ct-mini{font-size:114%;margin:0 4em}html.skin-theme-clientpref-night .mw-parser-output .navbar li a abbr{color:var(--color-base)!important}@media(prefers-color-scheme:dark){html.skin-theme-clientpref-os .mw-parser-output .navbar li a abbr{color:var(--color-base)!important}}@media print{.mw-parser-output .navbar{display:none!important}}vteUnited States state-related lists`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>density_table <span class="ot">&lt;-</span> <span class="fu">html_table</span>(tables, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>)[[<span class="dv">1</span>]]  </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>density_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 61 × 6
   Location               Density Density Population `Land area` `Land area`
   &lt;chr&gt;                  &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;      
 1 Location               /mi2    /km2    Population mi2         km2        
 2 District of Columbia   11,131  4,297   678,972    61          158        
 3 New Jersey             1,263   488     9,290,841  7,354       19,047     
 4 Rhode Island           1,060   409     1,095,962  1,034       2,678      
 5 Puerto Rico            936     361     3,205,691  3,424       8,868      
 6 Massachusetts          898     347     7,001,399  7,800       20,202     
 7 Guam[4]                824     319     172,952    210         543        
 8 Connecticut            747     288     3,617,176  4,842       12,542     
 9 U.S. Virgin Islands[4] 737     284     98,750     134         348        
10 Maryland               637     246     6,180,253  9,707       25,142     
# ℹ 51 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform Steps 0-3 using the polite package</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>session <span class="ot">&lt;-</span> <span class="fu">bow</span>(<span class="st">"https://en.wikipedia.org/wiki/List_of_states_and_territories_of_the_United_States_by_population_density"</span>, <span class="at">force =</span> <span class="cn">TRUE</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">scrape</span>(session) <span class="sc">|&gt;</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="at">css =</span> <span class="st">"table"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_table</span>(<span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>density_table <span class="ot">&lt;-</span> result[[<span class="dv">1</span>]]</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>density_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 61 × 6
   Location               Density Density Population `Land area` `Land area`
   &lt;chr&gt;                  &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;      
 1 Location               /mi2    /km2    Population mi2         km2        
 2 District of Columbia   11,131  4,297   678,972    61          158        
 3 New Jersey             1,263   488     9,290,841  7,354       19,047     
 4 Rhode Island           1,060   409     1,095,962  1,034       2,678      
 5 Puerto Rico            936     361     3,205,691  3,424       8,868      
 6 Massachusetts          898     347     7,001,399  7,800       20,202     
 7 Guam[4]                824     319     172,952    210         543        
 8 Connecticut            747     288     3,617,176  4,842       12,542     
 9 U.S. Virgin Islands[4] 737     284     98,750     134         348        
10 Maryland               637     246     6,180,253  9,707       25,142     
# ℹ 51 more rows</code></pre>
</div>
</div>
<p>Even after grabbing our table from wikipedia and setting it in a nice tibble format, there is still some cleaning to do before we can merge this with our state geometries:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>density_data <span class="ot">&lt;-</span> density_table <span class="sc">|&gt;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Land_area =</span> <span class="st">`</span><span class="at">Land area</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">state_name =</span> <span class="fu">str_to_lower</span>(<span class="fu">as.character</span>(Location)),</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">Density =</span> <span class="fu">parse_number</span>(Density),</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">Population =</span> <span class="fu">parse_number</span>(Population),</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">Land_area =</span> <span class="fu">parse_number</span>(Land_area)) <span class="sc">|&gt;</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Location)</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>density_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 60 × 4
   Density Population Land_area state_name            
     &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;                 
 1   11131     678972        61 district of columbia  
 2    1263    9290841      7354 new jersey            
 3    1060    1095962      1034 rhode island          
 4     936    3205691      3424 puerto rico           
 5     898    7001399      7800 massachusetts         
 6     824     172952       210 guam[4]               
 7     747    3617176      4842 connecticut           
 8     737      98750       134 u.s. virgin islands[4]
 9     637    6180253      9707 maryland              
10     578      43915        76 american samoa[4]     
# ℹ 50 more rows</code></pre>
</div>
</div>
<p>As before, we get core geometry data to draw US states and then we’ll make sure we can merge our new density data into the core files.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get info to draw US states for geom_polygon (connect the lat-long points)</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>states_polygon <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(<span class="fu">map_data</span>(<span class="st">"state"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(region, group, order, lat, long)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># See what the state (region) levels look like in states_polygon</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(states_polygon<span class="sc">$</span>region)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "alabama"              "arizona"              "arkansas"            
 [4] "california"           "colorado"             "connecticut"         
 [7] "delaware"             "district of columbia" "florida"             
[10] "georgia"              "idaho"                "illinois"            
[13] "indiana"              "iowa"                 "kansas"              
[16] "kentucky"             "louisiana"            "maine"               
[19] "maryland"             "massachusetts"        "michigan"            
[22] "minnesota"            "mississippi"          "missouri"            
[25] "montana"              "nebraska"             "nevada"              
[28] "new hampshire"        "new jersey"           "new mexico"          
[31] "new york"             "north carolina"       "north dakota"        
[34] "ohio"                 "oklahoma"             "oregon"              
[37] "pennsylvania"         "rhode island"         "south carolina"      
[40] "south dakota"         "tennessee"            "texas"               
[43] "utah"                 "vermont"              "virginia"            
[46] "washington"           "west virginia"        "wisconsin"           
[49] "wyoming"             </code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get info to draw US states for geom_sf and leaflet (simple features</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   object with multipolygon geometry column)</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>states_sf <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">"https://rstudio.github.io/leaflet/json/us-states.geojson"</span>) <span class="sc">|&gt;</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, geometry)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co"># See what the state (name) levels look like in states_sf</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(states_sf<span class="sc">$</span>name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Alabama"              "Alaska"               "Arizona"             
 [4] "Arkansas"             "California"           "Colorado"            
 [7] "Connecticut"          "Delaware"             "District of Columbia"
[10] "Florida"              "Georgia"              "Hawaii"              
[13] "Idaho"                "Illinois"             "Indiana"             
[16] "Iowa"                 "Kansas"               "Kentucky"            
[19] "Louisiana"            "Maine"                "Maryland"            
[22] "Massachusetts"        "Michigan"             "Minnesota"           
[25] "Mississippi"          "Missouri"             "Montana"             
[28] "Nebraska"             "Nevada"               "New Hampshire"       
[31] "New Jersey"           "New Mexico"           "New York"            
[34] "North Carolina"       "North Dakota"         "Ohio"                
[37] "Oklahoma"             "Oregon"               "Pennsylvania"        
[40] "Rhode Island"         "South Carolina"       "South Dakota"        
[43] "Tennessee"            "Texas"                "Utah"                
[46] "Vermont"              "Virginia"             "Washington"          
[49] "West Virginia"        "Wisconsin"            "Wyoming"             
[52] "Puerto Rico"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># See what the state (state_name) levels look like in density_data</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(density_data<span class="sc">$</span>state_name)   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "district of columbia"        "new jersey"                 
 [3] "rhode island"                "puerto rico"                
 [5] "massachusetts"               "guam[4]"                    
 [7] "connecticut"                 "u.s. virgin islands[4]"     
 [9] "maryland"                    "american samoa[4]"          
[11] "delaware"                    "florida"                    
[13] "new york"                    "pennsylvania"               
[15] "ohio"                        "northern mariana islands[4]"
[17] "california"                  "illinois"                   
[19] "hawaii"                      "north carolina"             
[21] "virginia"                    "georgia"                    
[23] "indiana"                     "south carolina"             
[25] "michigan"                    "tennessee"                  
[27] "new hampshire"               "washington"                 
[29] "texas"                       "kentucky"                   
[31] "wisconsin"                   "louisiana"                  
[33] "alabama"                     "missouri"                   
[35] "west virginia"               "minnesota"                  
[37] "vermont"                     "arizona"                    
[39] "mississippi"                 "oklahoma"                   
[41] "arkansas"                    "iowa"                       
[43] "colorado"                    "maine"                      
[45] "oregon"                      "utah"                       
[47] "kansas"                      "nevada"                     
[49] "nebraska"                    "idaho"                      
[51] "new mexico"                  "south dakota"               
[53] "north dakota"                "montana"                    
[55] "wyoming"                     "alaska"                     
[57] "contiguous us"               "50 states"                  
[59] "50 states and dc"            "united states"              </code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># all lower case plus some extraneous rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make sure all keys have the same format before joining: all lower case</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>states_sf <span class="ot">&lt;-</span> states_sf <span class="sc">|&gt;</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">str_to_lower</span>(name))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Now we can merge data sets together for the static and the interactive plots</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge with states_polygon (static)</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>density_polygon <span class="ot">&lt;-</span> states_polygon <span class="sc">|&gt;</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(density_data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"region"</span> <span class="ot">=</span> <span class="st">"state_name"</span>))</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>density_polygon</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15,537 × 8
   region  group order   lat  long Density Population Land_area
   &lt;chr&gt;   &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;
 1 alabama     1     1  30.4 -87.5     101    5108468     50645
 2 alabama     1     2  30.4 -87.5     101    5108468     50645
 3 alabama     1     3  30.4 -87.5     101    5108468     50645
 4 alabama     1     4  30.3 -87.5     101    5108468     50645
 5 alabama     1     5  30.3 -87.6     101    5108468     50645
 6 alabama     1     6  30.3 -87.6     101    5108468     50645
 7 alabama     1     7  30.3 -87.6     101    5108468     50645
 8 alabama     1     8  30.3 -87.6     101    5108468     50645
 9 alabama     1     9  30.3 -87.7     101    5108468     50645
10 alabama     1    10  30.3 -87.8     101    5108468     50645
# ℹ 15,527 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Looks like merge worked for 48 contiguous states plus DC</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>density_polygon <span class="sc">|&gt;</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(region) <span class="sc">|&gt;</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Density)) <span class="sc">|&gt;</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 49 × 2
   region                  mean
   &lt;chr&gt;                  &lt;dbl&gt;
 1 alabama                101  
 2 arizona                 65  
 3 arkansas                59  
 4 california             250  
 5 colorado                57  
 6 connecticut            747  
 7 delaware               529  
 8 district of columbia 11131  
 9 florida                422  
10 georgia                192  
11 idaho                   24  
12 illinois               226  
13 indiana                192  
14 iowa                    57  
15 kansas                  36  
16 kentucky               115  
17 louisiana              106  
18 maine                   45  
19 maryland               637  
20 massachusetts          898  
21 michigan               178  
22 minnesota               72  
23 mississippi             63  
24 missouri                90  
25 montana                  7.8
26 nebraska                26  
27 nevada                  29  
28 new hampshire          157  
29 new jersey            1263  
30 new mexico              17  
31 new york               415  
32 north carolina         223  
33 north dakota            11  
34 ohio                   288  
35 oklahoma                59  
36 oregon                  44  
37 pennsylvania           290  
38 rhode island          1060  
39 south carolina         179  
40 south dakota            12  
41 tennessee              173  
42 texas                  117  
43 utah                    42  
44 vermont                 70  
45 virginia               221  
46 washington             118  
47 west virginia           74  
48 wisconsin              109  
49 wyoming                  6  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove DC since such an outlier</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>density_polygon <span class="ot">&lt;-</span> density_polygon <span class="sc">|&gt;</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(region <span class="sc">!=</span> <span class="st">"district of columbia"</span>)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge with states_sf (static or interactive)</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>density_sf <span class="ot">&lt;-</span> states_sf <span class="sc">|&gt;</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(density_data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"name"</span> <span class="ot">=</span> <span class="st">"state_name"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"alaska"</span>, <span class="st">"hawaii"</span>)))</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Looks like merge worked for 48 contiguous states plus DC and PR</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(density_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "sf"         "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(density_sf, <span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 50 features and 4 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -124.7066 ymin: 17.92956 xmax: -65.6268 ymax: 49.38362
Geodetic CRS:  WGS 84
# A tibble: 50 × 5
   name                                    geometry Density Population Land_area
 * &lt;chr&gt;                         &lt;MULTIPOLYGON [°]&gt;   &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;
 1 alabama              (((-87.3593 35.00118, -85.…   101      5108468     50645
 2 arizona              (((-109.0425 37.00026, -10…    65      7431344    113594
 3 arkansas             (((-94.47384 36.50186, -90…    59      3067732     52035
 4 california           (((-123.2333 42.00619, -12…   250     38965193    155779
 5 colorado             (((-107.9197 41.00391, -10…    57      5877610    103642
 6 connecticut          (((-73.05353 42.03905, -71…   747      3617176      4842
 7 delaware             (((-75.41409 39.80446, -75…   529      1031890      1949
 8 district of columbia (((-77.03526 38.99387, -76… 11131       678972        61
 9 florida              (((-85.49714 30.99754, -85…   422     22610726     53625
10 georgia              (((-83.10919 35.00118, -83…   192     11029227     57513
11 idaho                (((-116.0475 49.00024, -11…    24      1964726     82643
12 illinois             (((-90.63998 42.51006, -88…   226     12549689     55519
13 indiana              (((-85.99006 41.75972, -84…   192      6862199     35826
14 iowa                 (((-91.36842 43.50139, -91…    57      3207004     55857
15 kansas               (((-101.906 40.00163, -95.…    36      2940546     81759
16 kentucky             (((-83.90335 38.76931, -83…   115      4526154     39486
17 louisiana            (((-93.60849 33.01853, -91…   106      4573749     43204
18 maine                (((-70.70392 43.05776, -70…    45      1395722     30843
19 maryland             (((-75.99465 37.95325, -76…   637      6180253      9707
20 massachusetts        (((-70.91752 42.88797, -70…   898      7001399      7800
21 michigan             (((-83.45424 41.73234, -84…   178     10037261     56539
22 minnesota            (((-92.0147 46.7054, -92.0…    72      5737915     79627
23 mississippi          (((-88.47111 34.9957, -88.…    63      2939690     46923
24 missouri             (((-91.83396 40.60957, -91…    90      6196156     68742
25 montana              (((-104.0475 49.00024, -10…     7.8    1132812    145546
26 nebraska             (((-103.3246 43.00299, -10…    26      1978379     76824
27 nevada               (((-117.0279 42.00071, -11…    29      3194176    109781
28 new hampshire        (((-71.08183 45.3033, -71.…   157      1402054      8953
29 new jersey           (((-74.23655 41.14083, -73…  1263      9290841      7354
30 new mexico           (((-107.4213 37.00026, -10…    17      2114371    121298
31 new york             (((-73.34381 45.01303, -73…   415     19571216     47126
32 north carolina       (((-80.97866 36.56211, -80…   223     10835491     48618
33 north dakota         (((-97.22874 49.00024, -97…    11       783926     69001
34 ohio                 (((-80.5186 41.9788, -80.5…   288     11785935     40861
35 oklahoma             (((-100.0877 37.00026, -94…    59      4053824     68595
36 oregon               (((-123.2113 46.17414, -12…    44      4233358     95988
37 pennsylvania         (((-79.76278 42.25265, -79…   290     12961683     44743
38 rhode island         (((-71.19684 41.67757, -71…  1060      1095962      1034
39 south carolina       (((-82.76414 35.0669, -82.…   179      5373555     30061
40 south dakota         (((-104.0475 45.94411, -96…    12       919318     75811
41 tennessee            (((-88.05487 36.49638, -88…   173      7126489     41235
42 texas                (((-101.8129 36.50186, -10…   117     30503301    261232
43 utah                 (((-112.1644 41.99523, -11…    42      3417734     82170
44 vermont              (((-71.50355 45.01303, -71…    70       647464      9217
45 virginia             (((-75.39766 38.0135, -75.…   221      8715698     39490
46 washington           (((-117.0334 49.00024, -11…   118      7812880     66456
47 west virginia        (((-80.5186 40.63695, -80.…    74      1770071     24038
48 wisconsin            (((-90.41543 46.56848, -90…   109      5910955     54158
49 wyoming              (((-109.0808 45.00207, -10…     6       584057     97093
50 puerto rico          (((-66.44834 17.98433, -66…   936      3205691      3424</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove DC and PR</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>density_sf <span class="ot">&lt;-</span> density_sf <span class="sc">|&gt;</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(name <span class="sc">!=</span> <span class="st">"district of columbia"</span> <span class="sc">&amp;</span> name <span class="sc">!=</span> <span class="st">"puerto rico"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Numeric variable (static plot):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>density_polygon <span class="sc">|&gt;</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group)) <span class="sc">+</span> </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_polygon</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Density), <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span> </span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Population density in 2023 </span><span class="sc">\n</span><span class="st"> (people per sq mile)"</span>) <span class="sc">+</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_map</span>() <span class="sc">+</span> </span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_void</span>() <span class="sc">+</span>  </span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_viridis</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="08_table_scraping_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Remember that the original plot classified densities into our own pre-determined bins before plotting - this might look better!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>density_polygon <span class="ot">&lt;-</span> density_polygon <span class="sc">|&gt;</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Density_intervals =</span> <span class="fu">cut</span>(Density, <span class="at">n =</span> <span class="dv">8</span>,</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">500</span>, <span class="dv">1000</span>, <span class="cn">Inf</span>)))</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>density_polygon <span class="sc">|&gt;</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group)) <span class="sc">+</span> </span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_polygon</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Density_intervals), <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">linetype =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Population Density (per sq mile)"</span>) <span class="sc">+</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_map</span>() <span class="sc">+</span> </span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_void</span>() <span class="sc">+</span>  </span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="08_table_scraping_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We could even create a static plot using <code>geom_sf()</code> using <code>density_sf</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>density_sf <span class="ot">&lt;-</span> density_sf <span class="sc">|&gt;</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Density_intervals =</span> <span class="fu">cut</span>(Density, <span class="at">n =</span> <span class="dv">8</span>,</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">500</span>, <span class="dv">1000</span>, <span class="cn">Inf</span>))) </span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> density_sf) <span class="sc">+</span> </span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Density_intervals), <span class="at">colour =</span> <span class="st">"white"</span>, <span class="at">linetype =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span>  </span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="08_table_scraping_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>But… why not make an interactive plot instead?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>density_sf <span class="ot">&lt;-</span> density_sf <span class="sc">|&gt;</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">labels =</span> <span class="fu">str_c</span>(name, <span class="st">": "</span>, Density, <span class="st">" people per sq mile in 2023"</span>))</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">lapply</span>(density_sf<span class="sc">$</span>labels, HTML)</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">colorNumeric</span>(<span class="st">"YlOrRd"</span>, density_sf<span class="sc">$</span>Density)</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>(density_sf) <span class="sc">|&gt;</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setView</span>(<span class="sc">-</span><span class="dv">96</span>, <span class="fl">37.8</span>, <span class="dv">4</span>) <span class="sc">|&gt;</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addTiles</span>() <span class="sc">|&gt;</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addPolygons</span>(</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight =</span> <span class="dv">2</span>,</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity =</span> <span class="dv">1</span>,</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="sc">~</span> <span class="fu">pal</span>(density_sf<span class="sc">$</span>Density),</span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">dashArray =</span> <span class="st">"3"</span>,</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillOpacity =</span> <span class="fl">0.7</span>,</span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">highlightOptions =</span> <span class="fu">highlightOptions</span>(</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">weight =</span> <span class="dv">5</span>,</span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">"#666"</span>,</span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">dashArray =</span> <span class="st">""</span>,</span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">fillOpacity =</span> <span class="fl">0.7</span>,</span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">bringToFront =</span> <span class="cn">TRUE</span>),</span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> labels,</span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">labelOptions =</span> <span class="fu">labelOptions</span>(</span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">style =</span> <span class="fu">list</span>(<span class="st">"font-weight"</span> <span class="ot">=</span> <span class="st">"normal"</span>, <span class="at">padding =</span> <span class="st">"3px 8px"</span>),</span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">textsize =</span> <span class="st">"15px"</span>,</span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">direction =</span> <span class="st">"auto"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-c02f0a0aef4ec523ce0d" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-c02f0a0aef4ec523ce0d">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[37.8,-96],4,[]],"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addPolygons","args":[[[[{"lng":[-87.359296,-85.606675,-85.43141300000001,-85.184951,-85.069935,-84.960397,-85.004212,-84.889196,-85.058981,-85.053504,-85.141136,-85.042551,-85.11375099999999,-85.004212,-85.497137,-87.60028200000001,-87.633143,-87.40858900000001,-87.446927,-87.37025,-87.518128,-87.655051,-87.90698999999999,-87.934375,-88.01105200000001,-88.10415999999999,-88.137022,-88.39443799999999,-88.471115,-88.241084,-88.09868299999999,-88.20274499999999,-87.359296],"lat":[35.00118,34.984749,34.124869,32.859696,32.580372,32.421541,32.322956,32.262709,32.13674,32.01077,31.840985,31.539753,31.27686,31.003013,30.997536,30.997536,30.86609,30.674397,30.510088,30.427934,30.280057,30.247195,30.411504,30.657966,30.685351,30.499135,30.318396,30.367688,31.895754,33.796253,34.891641,34.995703,35.00118]}]],[[{"lng":[-109.042503,-109.04798,-111.074448,-112.246513,-114.815198,-114.72209,-114.524921,-114.470151,-114.524921,-114.661844,-114.727567,-114.524921,-114.497536,-114.535874,-114.415382,-114.256551,-114.136058,-114.333228,-114.470151,-114.634459,-114.634459,-114.574213,-114.596121,-114.678275,-114.738521,-114.371566,-114.251074,-114.152489,-114.048427,-114.048427,-110.499369,-109.042503],"lat":[37.000263,31.331629,31.331629,31.704061,32.492741,32.717295,32.755634,32.843265,33.029481,33.034958,33.40739,33.54979,33.697668,33.933176,34.108438,34.174162,34.305608,34.448009,34.710902,34.87521,35.00118,35.138103,35.324319,35.516012,36.102045,36.140383,36.01989,36.025367,36.195153,37.000263,37.00574,37.000263]}]],[[{"lng":[-94.473842,-90.152536,-90.064905,-90.218259,-90.37709099999999,-89.730812,-89.763673,-89.911551,-89.944412,-90.130628,-90.114197,-90.212782,-90.311367,-90.251121,-90.409952,-90.48115199999999,-90.58521399999999,-90.568783,-90.749522,-90.744046,-90.952169,-90.89192300000001,-91.07266199999999,-91.231493,-91.056231,-91.143862,-91.08909300000001,-91.16576999999999,-93.608485,-94.04116399999999,-94.04116399999999,-94.183564,-94.380734,-94.484796,-94.430026,-94.616242,-94.473842],"lat":[36.501861,36.496384,36.304691,36.184199,35.997983,35.997983,35.811767,35.756997,35.603643,35.439335,35.198349,35.023087,34.995703,34.908072,34.831394,34.661609,34.617794,34.420624,34.365854,34.300131,34.135823,34.026284,33.867453,33.560744,33.429298,33.347144,33.13902,33.002096,33.018527,33.018527,33.54979,33.593606,33.544313,33.637421,35.395519,36.501861,36.501861]}]],[[{"lng":[-123.233256,-122.378853,-121.037003,-120.001861,-119.996384,-120.001861,-118.71478,-117.498899,-116.540435,-115.85034,-114.634459,-114.634459,-114.470151,-114.333228,-114.136058,-114.256551,-114.415382,-114.535874,-114.497536,-114.524921,-114.727567,-114.661844,-114.524921,-114.470151,-114.524921,-114.72209,-116.04751,-117.126467,-117.24696,-117.252437,-117.329114,-117.471515,-117.7837,-118.183517,-118.260194,-118.413548,-118.391641,-118.566903,-118.802411,-119.218659,-119.278905,-119.558229,-119.875891,-120.138784,-120.472878,-120.64814,-120.609801,-120.670048,-120.631709,-120.894602,-120.905556,-121.004141,-121.168449,-121.283465,-121.332757,-121.716143,-121.896882,-121.935221,-121.858544,-121.787344,-121.929744,-122.105006,-122.335038,-122.417192,-122.400761,-122.515777,-122.515777,-122.329561,-122.406238,-122.488392,-122.504823,-122.701993,-122.937501,-122.97584,-123.129194,-123.331841,-123.44138,-123.737134,-123.687842,-123.824765,-123.764519,-123.85215,-124.109566,-124.361506,-124.410798,-124.158859,-124.109566,-124.158859,-124.065751,-124.147905,-124.257444,-124.213628,-123.233256],"lat":[42.006186,42.011663,41.995232,41.995232,40.264519,38.999346,38.101128,37.21934,36.501861,35.970598,35.00118,34.87521,34.710902,34.448009,34.305608,34.174162,34.108438,33.933176,33.697668,33.54979,33.40739,33.034958,33.029481,32.843265,32.755634,32.717295,32.624187,32.536556,32.668003,32.876127,33.122589,33.297851,33.538836,33.763391,33.703145,33.741483,33.840068,34.042715,33.998899,34.146777,34.26727,34.415147,34.40967,34.475393,34.448009,34.579455,34.858779,34.902595,35.099764,35.247642,35.450289,35.461243,35.636505,35.674843,35.784382,36.195153,36.315645,36.638785,36.6114,36.803093,36.978355,36.956447,37.115279,37.241248,37.361741,37.520572,37.783465,37.783465,38.15042,38.112082,37.931343,37.893004,38.029928,38.265436,38.451652,38.566668,38.698114,38.95553,39.032208,39.366301,39.552517,39.831841,40.105688,40.259042,40.439781,40.877937,41.025814,41.14083,41.442061,41.715908,41.781632,42.000709,42.006186]}]],[[{"lng":[-107.919731,-105.728954,-104.053011,-102.053927,-102.053927,-102.042974,-103.001438,-104.337812,-106.868158,-107.421329,-109.042503,-109.042503,-109.058934,-109.053457,-109.04798,-107.919731],"lat":[41.003906,40.998429,41.003906,41.003906,40.001626,36.994786,37.000263,36.994786,36.994786,37.000263,37.000263,38.166851,38.27639,39.125316,40.998429,41.003906]}]],[[{"lng":[-73.053528,-71.79930899999999,-71.79930899999999,-71.79930899999999,-71.859555,-71.947186,-72.385341,-72.90565100000001,-73.130205,-73.371191,-73.655992,-73.727192,-73.48072999999999,-73.55193,-73.486206,-73.053528],"lat":[42.039048,42.022617,42.006186,41.414677,41.321569,41.338,41.261322,41.28323,41.146307,41.102491,40.987475,41.102491,41.21203,41.294184,42.050002,42.039048]}]],[[{"lng":[-75.414089,-75.50719700000001,-75.611259,-75.58935200000001,-75.441474,-75.403136,-75.18953500000001,-75.09095000000001,-75.047134,-75.69341300000001,-75.78652099999999,-75.616736,-75.414089],"lat":[39.804456,39.683964,39.61824,39.459409,39.311532,39.065069,38.807653,38.796699,38.451652,38.462606,39.722302,39.831841,39.804456]}]],[[{"lng":[-85.497137,-85.004212,-84.867289,-83.498053,-82.216449,-82.167157,-82.04666400000001,-82.002849,-82.04118699999999,-81.94807900000001,-81.718048,-81.44420100000001,-81.383954,-81.25798500000001,-80.967707,-80.524075,-80.589798,-80.56789000000001,-80.381674,-80.091397,-80.03115,-80.036627,-80.14616599999999,-80.23927399999999,-80.33785899999999,-80.304997,-80.49669,-80.573367,-80.75958300000001,-81.077246,-81.170354,-81.126538,-81.35109300000001,-81.526355,-81.679709,-81.800202,-81.83306399999999,-82.04118699999999,-82.09048,-82.05761800000001,-82.172634,-82.14524900000001,-82.24931100000001,-82.566974,-82.692943,-82.391711,-82.588881,-82.72032799999999,-82.85177400000001,-82.676512,-82.64365100000001,-82.764143,-82.802482,-82.994175,-83.218729,-83.399469,-83.410422,-83.53639200000001,-83.64045400000001,-84.02384000000001,-84.357933,-84.34150200000001,-84.451041,-84.867289,-85.31092099999999,-85.299967,-85.40402899999999,-85.92433800000001,-86.29677,-86.63086300000001,-86.91018699999999,-87.518128,-87.37025,-87.446927,-87.40858900000001,-87.633143,-87.60028200000001,-85.497137],"lat":[30.997536,31.003013,30.712735,30.647012,30.570335,30.356734,30.362211,30.564858,30.751074,30.827751,30.745597,30.707258,30.27458,29.787132,29.14633,28.461713,28.41242,28.094758,27.738757,27.021277,26.796723,26.566691,25.739673,25.723243,25.465826,25.383672,25.197456,25.241272,25.164595,25.120779,25.224841,25.378195,25.821827,25.903982,25.843735,26.090198,26.292844,26.517399,26.665276,26.878877,26.917216,26.791246,26.758384,27.300601,27.437525,27.837342,27.815434,27.689464,27.886634,28.434328,28.888914,28.998453,29.14633,29.179192,29.420177,29.518762,29.66664,29.721409,29.885717,30.104795,30.055502,29.902148,29.929533,29.743317,29.699501,29.80904,29.940487,30.236241,30.362211,30.395073,30.373165,30.280057,30.427934,30.510088,30.674397,30.86609,30.997536,30.997536]}]],[[{"lng":[-83.109191,-83.322791,-83.33922200000001,-83.005129,-82.901067,-82.747713,-82.714851,-82.55602,-82.325988,-82.194542,-81.92617199999999,-81.93712499999999,-81.76186300000001,-81.493493,-81.42777,-81.416816,-81.279893,-81.121061,-81.115584,-80.885553,-81.132015,-81.175831,-81.279893,-81.290846,-81.400385,-81.44420100000001,-81.718048,-81.94807900000001,-82.04118699999999,-82.002849,-82.04666400000001,-82.167157,-82.216449,-83.498053,-84.867289,-85.004212,-85.11375099999999,-85.042551,-85.141136,-85.053504,-85.058981,-84.889196,-85.004212,-84.960397,-85.069935,-85.184951,-85.43141300000001,-85.606675,-84.319594,-83.61854599999999,-83.109191],"lat":[35.00118,34.787579,34.683517,34.469916,34.486347,34.26727,34.152254,33.94413,33.81816,33.631944,33.462159,33.347144,33.160928,33.007573,32.843265,32.629664,32.558464,32.290094,32.120309,32.032678,31.693108,31.517845,31.364491,31.20566,31.13446,30.707258,30.745597,30.827751,30.751074,30.564858,30.362211,30.356734,30.570335,30.647012,30.712735,31.003013,31.27686,31.539753,31.840985,32.01077,32.13674,32.262709,32.322956,32.421541,32.580372,32.859696,34.124869,34.984749,34.990226,34.984749,35.00118]}]],[[{"lng":[-116.04751,-116.04751,-115.724371,-115.718894,-115.527201,-115.324554,-115.302646,-114.930214,-114.886399,-114.623506,-114.612552,-114.322274,-114.464674,-114.492059,-114.387997,-114.568736,-114.497536,-114.546828,-114.333228,-114.086765,-113.98818,-113.807441,-113.834826,-113.736241,-113.571933,-113.45144,-113.456917,-113.341901,-113.133778,-113.002331,-112.887315,-112.783254,-112.471068,-112.241036,-112.104113,-111.868605,-111.819312,-111.616665,-111.386634,-111.227803,-111.047063,-111.047063,-112.164359,-114.04295,-117.027882,-117.027882,-116.896436,-116.97859,-117.170283,-117.241483,-117.038836,-116.934774,-116.830713,-116.847143,-116.732128,-116.671881,-116.463758,-116.545912,-116.78142,-116.918344,-116.92382,-117.055267,-117.038836,-117.044313,-117.033359,-116.04751],"lat":[49.000239,47.976051,47.696727,47.42288,47.302388,47.258572,47.187372,46.919002,46.809463,46.705401,46.639678,46.645155,46.272723,46.037214,45.88386,45.774321,45.670259,45.560721,45.456659,45.593582,45.703121,45.604536,45.522382,45.330689,45.128042,45.056842,44.865149,44.782995,44.772041,44.448902,44.394132,44.48724,44.481763,44.569394,44.520102,44.563917,44.509148,44.547487,44.75561,44.580348,44.476286,42.000709,41.995232,41.995232,42.000709,43.830007,44.158624,44.240778,44.257209,44.394132,44.750133,44.782995,44.930872,45.02398,45.144473,45.319735,45.61549,45.752413,45.823614,45.993399,46.168661,46.343923,46.426077,47.762451,49.000239,49.000239]}]],[[{"lng":[-90.639984,-88.78877799999999,-87.80292900000001,-87.83579,-87.682436,-87.523605,-87.529082,-87.63862,-87.51265100000001,-87.49621999999999,-87.62219,-87.655051,-87.83579,-87.950806,-87.923421,-88.00009799999999,-88.060345,-88.027483,-88.15893,-88.065822,-88.476592,-88.514931,-88.421823,-88.547792,-88.91474700000001,-89.029763,-89.18311799999999,-89.133825,-89.29265599999999,-89.517211,-89.435057,-89.517211,-89.517211,-89.84035,-89.949889,-90.059428,-90.355183,-90.349706,-90.17992099999999,-90.20730500000001,-90.10872000000001,-90.251121,-90.47019899999999,-90.58521399999999,-90.661891,-90.727615,-91.061708,-91.36841699999999,-91.49438600000001,-91.50534,-91.417709,-91.401278,-91.121954,-91.09457,-90.963123,-90.946692,-91.111001,-91.045277,-90.656414,-90.344229,-90.311367,-90.17992099999999,-90.141582,-90.16896699999999,-90.39352100000001,-90.420906,-90.639984],"lat":[42.510065,42.493634,42.493634,42.301941,42.077386,41.710431,39.34987,39.169131,38.95553,38.780268,38.637868,38.506421,38.292821,38.27639,38.15042,38.101128,37.865619,37.799896,37.657496,37.482234,37.389126,37.285064,37.153617,37.071463,37.224817,37.213863,37.038601,36.983832,36.994786,37.279587,37.34531,37.537003,37.690357,37.903958,37.88205,38.013497,38.216144,38.374975,38.632391,38.725499,38.845992,38.917192,38.961007,38.867899,38.928146,39.256762,39.470363,39.727779,40.034488,40.237135,40.379535,40.560274,40.669813,40.823167,40.921752,41.097014,41.239415,41.414677,41.463969,41.589939,41.743293,41.809016,42.000709,42.126679,42.225264,42.329326,42.510065]}]],[[{"lng":[-85.990061,-84.807042,-84.807042,-84.801565,-84.81799599999999,-84.894673,-84.81251899999999,-84.987781,-85.173997,-85.43141300000001,-85.42046000000001,-85.590245,-85.655968,-85.83123000000001,-85.92433800000001,-86.039354,-86.263908,-86.30224699999999,-86.521325,-86.50489399999999,-86.729448,-86.79517199999999,-87.047111,-87.129265,-87.381204,-87.51265100000001,-87.60028200000001,-87.682436,-87.934375,-88.027483,-88.060345,-88.00009799999999,-87.923421,-87.950806,-87.83579,-87.655051,-87.62219,-87.49621999999999,-87.51265100000001,-87.63862,-87.529082,-87.523605,-87.42502,-87.11831100000001,-86.82255600000001,-85.990061],"lat":[41.759724,41.759724,41.694001,40.500028,39.103408,39.059592,38.785745,38.780268,38.68716,38.730976,38.533806,38.451652,38.325682,38.27639,38.024451,37.958727,38.051835,38.166851,38.040881,37.931343,37.893004,37.991589,37.893004,37.788942,37.93682,37.903958,37.975158,37.903958,37.893004,37.799896,37.865619,38.101128,38.15042,38.27639,38.292821,38.506421,38.637868,38.780268,38.95553,39.169131,39.34987,41.710431,41.644708,41.644708,41.759724,41.759724]}]],[[{"lng":[-91.36841699999999,-91.215062,-91.204109,-91.056231,-91.17672399999999,-91.143862,-91.06718499999999,-90.711184,-90.639984,-90.420906,-90.39352100000001,-90.16896699999999,-90.141582,-90.17992099999999,-90.311367,-90.344229,-90.656414,-91.045277,-91.111001,-90.946692,-90.963123,-91.09457,-91.121954,-91.401278,-91.417709,-91.527248,-91.729895,-91.833957,-93.25796099999999,-94.632673,-95.7664,-95.881416,-95.826646,-95.925231,-95.919754,-96.095016,-96.122401,-96.062155,-96.127878,-96.26480100000001,-96.44553999999999,-96.631756,-96.54412499999999,-96.511264,-96.43458699999999,-96.56055600000001,-96.52769499999999,-96.582464,-96.45101699999999,-91.36841699999999],"lat":[43.501391,43.501391,43.353514,43.254929,43.134436,42.909881,42.75105,42.636034,42.510065,42.329326,42.225264,42.126679,42.000709,41.809016,41.743293,41.589939,41.463969,41.414677,41.239415,41.097014,40.921752,40.823167,40.669813,40.560274,40.379535,40.412397,40.615043,40.609566,40.582182,40.571228,40.587659,40.719105,40.976521,41.201076,41.453015,41.540646,41.67757,41.798063,41.973325,42.039048,42.488157,42.707235,42.855112,43.052282,43.123482,43.222067,43.397329,43.479483,43.501391,43.501391]}]],[[{"lng":[-101.90605,-95.306337,-95.207752,-94.884612,-95.109167,-94.983197,-94.824366,-94.610765,-94.616242,-100.087706,-102.042974,-102.053927,-101.90605],"lat":[40.001626,40.001626,39.908518,39.831841,39.541563,39.442978,39.20747,39.158177,37.000263,37.000263,36.994786,40.001626,40.001626]}]],[[{"lng":[-83.903347,-83.678792,-83.519961,-83.14205200000001,-83.03251400000001,-82.890113,-82.846298,-82.73128199999999,-82.594358,-82.621743,-82.50125,-82.34241900000001,-82.293127,-82.101434,-81.969987,-82.353373,-82.72032799999999,-82.72032799999999,-82.868205,-82.879159,-83.070852,-83.13657499999999,-83.673316,-83.689746,-84.544149,-85.289013,-85.486183,-86.59252499999999,-87.852221,-88.071299,-88.054868,-89.29813300000001,-89.418626,-89.363857,-89.215979,-89.133825,-89.18311799999999,-89.029763,-88.91474700000001,-88.547792,-88.421823,-88.514931,-88.476592,-88.065822,-88.15893,-88.027483,-87.934375,-87.682436,-87.60028200000001,-87.51265100000001,-87.381204,-87.129265,-87.047111,-86.79517199999999,-86.729448,-86.50489399999999,-86.521325,-86.30224699999999,-86.263908,-86.039354,-85.92433800000001,-85.83123000000001,-85.655968,-85.590245,-85.42046000000001,-85.43141300000001,-85.173997,-84.987781,-84.81251899999999,-84.894673,-84.81799599999999,-84.43461000000001,-84.23196299999999,-84.21553299999999,-83.903347],"lat":[38.769315,38.632391,38.703591,38.626914,38.725499,38.758361,38.588575,38.561191,38.424267,38.123036,37.931343,37.783465,37.668449,37.553434,37.537003,37.268633,37.120755,37.044078,36.978355,36.890724,36.852385,36.742847,36.600446,36.584015,36.594969,36.627831,36.616877,36.655216,36.633308,36.677123,36.496384,36.507338,36.496384,36.622354,36.578538,36.983832,37.038601,37.213863,37.224817,37.071463,37.153617,37.285064,37.389126,37.482234,37.657496,37.799896,37.893004,37.903958,37.975158,37.903958,37.93682,37.788942,37.893004,37.991589,37.893004,37.931343,38.040881,38.166851,38.051835,37.958727,38.024451,38.27639,38.325682,38.451652,38.533806,38.730976,38.68716,38.780268,38.785745,39.059592,39.103408,39.103408,38.895284,38.807653,38.769315]}]],[[{"lng":[-93.608485,-91.16576999999999,-91.07266199999999,-91.143862,-91.154816,-91.006939,-90.98503100000001,-91.105524,-91.341032,-91.401278,-91.499863,-91.516294,-91.636787,-91.56558699999999,-91.636787,-89.747242,-89.845827,-89.68151899999999,-89.643181,-89.522688,-89.818443,-89.84035,-89.59936500000001,-89.49530300000001,-89.28717899999999,-89.30361000000001,-89.424103,-89.648657,-89.621273,-89.69795000000001,-89.50625700000001,-89.19954799999999,-89.09001000000001,-89.002379,-89.16121,-89.336472,-89.48434899999999,-89.851304,-89.851304,-90.032043,-90.021089,-90.103244,-90.23469,-90.333275,-90.56330699999999,-90.645461,-90.798815,-90.963123,-91.09457,-91.220539,-91.445094,-91.532725,-91.620356,-91.88324900000001,-91.88872600000001,-92.146142,-92.113281,-92.31045,-92.617159,-92.97315999999999,-93.2251,-93.76731700000001,-93.838517,-93.926148,-93.690639,-93.76731700000001,-93.696116,-93.728978,-93.630393,-93.526331,-93.542762,-93.816609,-93.822086,-94.04116399999999,-94.04116399999999,-93.608485],"lat":[33.018527,33.002096,32.887081,32.843265,32.640618,32.514649,32.218894,31.988862,31.846462,31.621907,31.643815,31.27686,31.265906,31.068736,30.997536,30.997536,30.66892,30.449842,30.285534,30.181472,30.044549,29.945964,29.88024,30.039072,29.88024,29.754271,29.699501,29.748794,29.655686,29.513285,29.387316,29.348977,29.2011,29.179192,29.009407,29.042268,29.217531,29.310638,29.480424,29.425654,29.283254,29.151807,29.129899,29.277777,29.283254,29.129899,29.086084,29.179192,29.190146,29.436608,29.546147,29.529716,29.73784,29.710455,29.836425,29.715932,29.622824,29.535193,29.579009,29.715932,29.776178,29.726886,29.688547,29.787132,30.143133,30.334826,30.438888,30.575812,30.679874,30.93729,31.15089,31.556184,31.775262,31.994339,33.018527,33.018527]}]],[[{"lng":[-70.70392099999999,-70.82441300000001,-70.80798299999999,-70.966814,-71.032537,-71.08183,-70.649151,-70.72035200000001,-70.556043,-70.386258,-70.41912000000001,-70.260289,-70.30958099999999,-70.21099599999999,-70.057642,-69.997395,-69.22514700000001,-69.044408,-69.03345400000001,-68.902007,-68.578868,-68.376221,-68.23382100000001,-67.954497,-67.790188,-67.779235,-67.801142,-67.456095,-67.505388,-67.41775699999999,-67.488957,-67.34655600000001,-67.16034000000001,-66.979601,-67.187725,-67.308218,-67.406803,-67.54920300000001,-67.565634,-67.75185,-68.047605,-68.11880499999999,-68.22286699999999,-68.173574,-68.403606,-68.458375,-68.567914,-68.82532999999999,-68.83080699999999,-68.984161,-68.956777,-69.099177,-69.071793,-69.258008,-69.44422400000001,-69.553763,-69.70711799999999,-69.83308700000001,-69.986442,-70.03025700000001,-70.254812,-70.194565,-70.358873,-70.369827,-70.556043,-70.70392099999999],"lat":[43.057759,43.128959,43.227544,43.34256,44.657025,45.303304,45.440228,45.511428,45.664782,45.735983,45.796229,45.889337,46.064599,46.327492,46.415123,46.694447,47.461219,47.428357,47.242141,47.176418,47.285957,47.285957,47.357157,47.198326,47.066879,45.944106,45.675736,45.604536,45.48952,45.379982,45.281397,45.128042,45.160904,44.804903,44.646072,44.706318,44.596779,44.624164,44.531056,44.54201,44.328409,44.476286,44.48724,44.328409,44.251732,44.377701,44.311978,44.311978,44.459856,44.426994,44.322932,44.103854,44.043608,43.923115,43.966931,43.840961,43.82453,43.720469,43.742376,43.851915,43.676653,43.567114,43.528776,43.435668,43.320652,43.057759]}]],[[{"lng":[-75.99464500000001,-76.016553,-76.043938,-75.99464500000001],"lat":[37.95325,37.95325,37.95325,37.95325]}],[{"lng":[-79.477979,-75.78652099999999,-75.69341300000001,-75.047134,-75.244304,-75.397659,-75.67150599999999,-75.88510599999999,-75.87962899999999,-75.961783,-75.846768,-76.000122,-76.049415,-76.257538,-76.328738,-76.263015,-76.257538,-76.19181500000001,-76.27944599999999,-76.16990699999999,-76.000122,-75.972737,-76.098707,-76.104184,-76.36707699999999,-76.443754,-76.460185,-76.55877,-76.514954,-76.38350800000001,-76.399939,-76.317785,-76.3616,-76.591632,-76.920248,-77.018833,-77.205049,-77.27624900000001,-77.128372,-77.040741,-76.909294,-77.035264,-77.117418,-77.248864,-77.456988,-77.456988,-77.56652699999999,-77.719881,-77.834897,-78.004682,-78.17446700000001,-78.26757499999999,-78.431884,-78.47022200000001,-78.76597700000001,-78.96314700000001,-79.094593,-79.291763,-79.488933,-79.477979],"lat":[39.722302,39.722302,38.462606,38.451652,38.029928,38.013497,37.95325,37.909435,38.073743,38.139466,38.210667,38.374975,38.303775,38.320205,38.500944,38.500944,38.736453,38.829561,39.147223,39.333439,39.366301,39.557994,39.536086,39.437501,39.311532,39.196516,38.906238,38.769315,38.539283,38.380452,38.259959,38.139466,38.057312,38.216144,38.292821,38.446175,38.358544,38.479037,38.632391,38.791222,38.895284,38.993869,38.933623,39.026731,39.076023,39.223901,39.306055,39.322485,39.601809,39.601809,39.694917,39.61824,39.623717,39.514178,39.585379,39.437501,39.470363,39.300578,39.20747,39.722302]}]],[[{"lng":[-70.91752099999999,-70.81893599999999,-70.780598,-70.82441300000001,-70.983245,-70.988722,-70.769644,-70.63819700000001,-70.660105,-70.550566,-70.539613,-70.260289,-69.93714900000001,-70.008349,-70.484843,-70.660105,-70.764167,-70.92847500000001,-70.93395200000001,-71.12016800000001,-71.196845,-71.22423000000001,-71.328292,-71.383061,-71.530939,-71.79930899999999,-71.79930899999999,-73.053528,-73.486206,-73.50811400000001,-73.267129,-72.456542,-71.29543,-71.185891,-70.91752099999999],"lat":[42.887974,42.871543,42.696281,42.55388,42.422434,42.269079,42.247172,42.08834,41.962371,41.929509,41.814493,41.715908,41.809016,41.672093,41.5516,41.546123,41.639231,41.611847,41.540646,41.496831,41.67757,41.710431,41.781632,42.01714,42.01714,42.006186,42.022617,42.039048,42.050002,42.08834,42.745573,42.729142,42.696281,42.789389,42.887974]}]],[[{"lng":[-83.454238,-84.807042,-84.807042,-85.990061,-86.82255600000001,-86.61990900000001,-86.482986,-86.357016,-86.263908,-86.20913899999999,-86.231047,-86.52680100000001,-86.43369300000001,-86.49941699999999,-86.269385,-86.22009300000001,-86.252954,-86.088646,-86.066738,-85.80932199999999,-85.61215199999999,-85.62858300000001,-85.52452099999999,-85.393075,-85.387598,-85.30544399999999,-85.031597,-85.11922800000001,-84.938489,-84.71393399999999,-84.461995,-84.21553299999999,-84.09504,-83.908824,-83.596638,-83.4871,-83.317314,-83.454238,-83.322791,-83.273499,-83.33374499999999,-83.53639200000001,-83.585684,-83.82666999999999,-83.958116,-83.908824,-83.667839,-83.481623,-83.262545,-82.91749799999999,-82.747713,-82.64365100000001,-82.53958900000001,-82.523158,-82.413619,-82.517681,-82.681989,-82.687466,-82.797005,-82.92297499999999,-83.125621,-83.185868,-83.43780700000001,-83.454238],"lat":[41.732339,41.694001,41.759724,41.759724,41.759724,41.891171,42.115725,42.252649,42.444341,42.718189,43.013943,43.594499,43.813577,44.07647,44.34484,44.569394,44.689887,44.73918,44.903488,44.947303,45.128042,44.766564,44.750133,44.930872,45.237581,45.314258,45.363551,45.577151,45.75789,45.768844,45.653829,45.637398,45.494997,45.484043,45.352597,45.358074,45.144473,45.029457,44.88158,44.711795,44.339363,44.246255,44.054562,43.988839,43.758807,43.671176,43.589022,43.714992,43.972408,44.070993,43.994316,43.851915,43.435668,43.227544,42.975605,42.614127,42.559357,42.690804,42.652465,42.351234,42.236218,42.006186,41.814493,41.732339]}],[{"lng":[-85.50809099999999,-85.49166,-85.62310600000001,-85.568337,-85.50809099999999],"lat":[45.730506,45.610013,45.588105,45.75789,45.730506]}],[{"lng":[-87.58932799999999,-87.742682,-87.649574,-87.88508299999999,-87.79197499999999,-87.781021,-87.98914499999999,-88.10415999999999,-88.531362,-88.662808,-89.09001000000001,-90.119674,-90.229213,-90.415429,-90.026566,-89.851304,-89.413149,-89.128348,-88.99690200000001,-88.88736299999999,-88.575177,-88.416346,-88.180837,-87.956283,-88.350623,-88.443731,-88.438254,-88.246561,-87.90151299999999,-87.633143,-87.39215799999999,-87.260711,-87.00877199999999,-86.948526,-86.69658699999999,-86.159846,-85.880522,-85.50809099999999,-85.256151,-85.064458,-85.02612000000001,-84.82895000000001,-84.63178000000001,-84.549626,-84.41817899999999,-84.12790200000001,-84.12242500000001,-83.990978,-83.793808,-83.7719,-83.580208,-83.476146,-83.563777,-84.11147099999999,-84.374364,-84.659165,-84.741319,-84.70298,-84.82895000000001,-85.01516599999999,-85.33830500000001,-85.50261399999999,-85.661445,-85.92433800000001,-86.20913899999999,-86.324155,-86.351539,-86.663725,-86.647294,-86.784218,-86.838987,-87.069019,-87.17308,-87.326435,-87.61123600000001,-87.58932799999999],"lat":[45.095181,45.199243,45.341643,45.363551,45.500474,45.675736,45.796229,45.922199,46.020784,45.987922,46.135799,46.338446,46.508231,46.568478,46.672539,46.793032,46.842325,46.990202,46.995679,47.099741,47.247618,47.373588,47.455742,47.384542,47.077833,46.973771,46.787555,46.929956,46.908048,46.809463,46.535616,46.486323,46.530139,46.469893,46.437031,46.667063,46.68897,46.678016,46.754694,46.760171,46.480847,46.442508,46.486323,46.4206,46.502754,46.530139,46.179615,46.031737,45.993399,46.091984,46.091984,45.987922,45.911245,45.976968,45.933153,46.053645,45.944106,45.850998,45.872906,46.00983,46.091984,46.097461,45.966014,45.933153,45.960537,45.905768,45.796229,45.703121,45.834568,45.861952,45.725029,45.719552,45.659305,45.423797,45.122565,45.095181]}],[{"lng":[-88.805209,-89.057148,-89.18859399999999,-89.17764099999999,-88.547792,-88.668285,-88.805209],"lat":[47.976051,47.850082,47.833651,47.937713,48.173221,48.008913,47.976051]}]],[[{"lng":[-92.014696,-92.091373,-92.29402,-92.29402,-92.354266,-92.639067,-92.86909799999999,-92.88552900000001,-92.77051299999999,-92.644544,-92.75955999999999,-92.737652,-92.808852,-92.545959,-92.337835,-92.233773,-91.927065,-91.87777199999999,-91.59297100000001,-91.43414,-91.242447,-91.26983199999999,-91.215062,-91.36841699999999,-96.45101699999999,-96.45101699999999,-96.681049,-96.85631100000001,-96.582464,-96.56055600000001,-96.598895,-96.719387,-96.801542,-96.785111,-96.823449,-96.85631100000001,-97.053481,-97.13015799999999,-97.16302,-97.097296,-97.22874299999999,-95.15298300000001,-95.15298300000001,-94.95581300000001,-94.824366,-94.69292,-94.588858,-94.26024099999999,-94.221903,-93.838517,-93.794701,-93.46608500000001,-93.46608500000001,-93.208669,-92.98411400000001,-92.726698,-92.65549799999999,-92.50762,-92.37069700000001,-92.304974,-92.053034,-92.009219,-91.713464,-91.713464,-91.56558699999999,-91.26435499999999,-91.08361600000001,-90.837154,-90.749522,-90.57973699999999,-90.37709099999999,-90.141582,-89.873212,-89.615796,-89.637704,-89.971797,-90.437337,-90.738569,-91.17124699999999,-91.357463,-91.642264,-92.091373,-92.014696],"lat":[46.705401,46.749217,46.667063,46.075553,46.015307,45.933153,45.719552,45.577151,45.566198,45.440228,45.286874,45.117088,44.750133,44.569394,44.552964,44.443425,44.333886,44.202439,44.032654,43.994316,43.775238,43.616407,43.501391,43.501391,43.501391,45.297827,45.412843,45.604536,45.818137,45.933153,46.332969,46.437031,46.656109,46.924479,46.968294,47.609096,47.948667,48.140359,48.545653,48.682577,49.000239,49.000239,49.383625,49.372671,49.295994,48.775685,48.715438,48.699007,48.649715,48.627807,48.518268,48.545653,48.589469,48.644238,48.62233,48.540176,48.436114,48.447068,48.222514,48.315622,48.359437,48.266329,48.200606,48.112975,48.041775,48.080113,48.178698,48.238944,48.091067,48.123929,48.091067,48.112975,47.987005,48.008913,47.954144,47.828174,47.729589,47.625527,47.368111,47.20928,47.028541,46.787555,46.705401]}]],[[{"lng":[-88.471115,-88.20274499999999,-88.09868299999999,-88.241084,-88.471115,-88.39443799999999,-88.50397700000001,-88.744962,-88.843547,-89.08453299999999,-89.418626,-89.522688,-89.643181,-89.68151899999999,-89.845827,-89.747242,-91.636787,-91.56558699999999,-91.636787,-91.516294,-91.499863,-91.401278,-91.341032,-91.105524,-90.98503100000001,-91.006939,-91.154816,-91.143862,-91.07266199999999,-91.16576999999999,-91.08909300000001,-91.143862,-91.056231,-91.231493,-91.07266199999999,-90.89192300000001,-90.952169,-90.744046,-90.749522,-90.568783,-90.58521399999999,-90.48115199999999,-90.409952,-90.251121,-90.311367,-88.471115],"lat":[34.995703,34.995703,34.891641,33.796253,31.895754,30.367688,30.323872,30.34578,30.411504,30.367688,30.252672,30.181472,30.285534,30.449842,30.66892,30.997536,30.997536,31.068736,31.265906,31.27686,31.643815,31.621907,31.846462,31.988862,32.218894,32.514649,32.640618,32.843265,32.887081,33.002096,33.13902,33.347144,33.429298,33.560744,33.867453,34.026284,34.135823,34.300131,34.365854,34.420624,34.617794,34.661609,34.831394,34.908072,34.995703,34.995703]}]],[[{"lng":[-91.833957,-91.729895,-91.527248,-91.417709,-91.50534,-91.49438600000001,-91.36841699999999,-91.061708,-90.727615,-90.661891,-90.58521399999999,-90.47019899999999,-90.251121,-90.10872000000001,-90.20730500000001,-90.17992099999999,-90.349706,-90.355183,-90.059428,-89.949889,-89.84035,-89.517211,-89.517211,-89.435057,-89.517211,-89.29265599999999,-89.133825,-89.215979,-89.363857,-89.418626,-89.48434899999999,-89.539119,-89.533642,-89.730812,-90.37709099999999,-90.218259,-90.064905,-90.152536,-94.473842,-94.616242,-94.616242,-94.610765,-94.824366,-94.983197,-95.109167,-94.884612,-95.207752,-95.306337,-95.55279899999999,-95.7664,-94.632673,-93.25796099999999,-91.833957],"lat":[40.609566,40.615043,40.412397,40.379535,40.237135,40.034488,39.727779,39.470363,39.256762,38.928146,38.867899,38.961007,38.917192,38.845992,38.725499,38.632391,38.374975,38.216144,38.013497,37.88205,37.903958,37.690357,37.537003,37.34531,37.279587,36.994786,36.983832,36.578538,36.622354,36.496384,36.496384,36.496384,36.249922,35.997983,35.997983,36.184199,36.304691,36.496384,36.501861,36.501861,37.000263,39.158177,39.20747,39.442978,39.541563,39.831841,39.908518,40.001626,40.264519,40.587659,40.571228,40.582182,40.609566]}]],[[{"lng":[-104.047534,-104.042057,-104.047534,-104.042057,-104.058488,-105.91517,-109.080842,-111.05254,-111.047063,-111.227803,-111.386634,-111.616665,-111.819312,-111.868605,-112.104113,-112.241036,-112.471068,-112.783254,-112.887315,-113.002331,-113.133778,-113.341901,-113.456917,-113.45144,-113.571933,-113.736241,-113.834826,-113.807441,-113.98818,-114.086765,-114.333228,-114.546828,-114.497536,-114.568736,-114.387997,-114.492059,-114.464674,-114.322274,-114.612552,-114.623506,-114.886399,-114.930214,-115.302646,-115.324554,-115.527201,-115.718894,-115.724371,-116.04751,-116.04751,-111.50165,-109.453274,-104.047534],"lat":[49.000239,47.861036,45.944106,44.996596,44.996596,45.002073,45.002073,45.002073,44.476286,44.580348,44.75561,44.547487,44.509148,44.563917,44.520102,44.569394,44.481763,44.48724,44.394132,44.448902,44.772041,44.782995,44.865149,45.056842,45.128042,45.330689,45.522382,45.604536,45.703121,45.593582,45.456659,45.560721,45.670259,45.774321,45.88386,46.037214,46.272723,46.645155,46.639678,46.705401,46.809463,46.919002,47.187372,47.258572,47.302388,47.42288,47.696727,47.976051,49.000239,48.994762,49.000239,49.000239]}]],[[{"lng":[-103.324578,-101.626726,-98.499393,-98.466531,-97.951699,-97.83120599999999,-97.688806,-97.217789,-96.692003,-96.626279,-96.44553999999999,-96.26480100000001,-96.127878,-96.062155,-96.122401,-96.095016,-95.919754,-95.925231,-95.826646,-95.881416,-95.7664,-95.55279899999999,-95.306337,-101.90605,-102.053927,-102.053927,-104.053011,-104.053011,-103.324578],"lat":[43.002989,42.997512,42.997512,42.94822,42.767481,42.866066,42.844158,42.844158,42.657942,42.515542,42.488157,42.039048,41.973325,41.798063,41.67757,41.540646,41.453015,41.201076,40.976521,40.719105,40.587659,40.264519,40.001626,40.001626,40.001626,41.003906,41.003906,43.002989,43.002989]}]],[[{"lng":[-117.027882,-114.04295,-114.048427,-114.048427,-114.152489,-114.251074,-114.371566,-114.738521,-114.678275,-114.596121,-114.574213,-114.634459,-115.85034,-116.540435,-117.498899,-118.71478,-120.001861,-119.996384,-120.001861,-118.698349,-117.027882],"lat":[42.000709,41.995232,37.000263,36.195153,36.025367,36.01989,36.140383,36.102045,35.516012,35.324319,35.138103,35.00118,35.970598,36.501861,37.21934,38.101128,38.999346,40.264519,41.995232,41.989755,42.000709]}]],[[{"lng":[-71.08183,-71.032537,-70.966814,-70.80798299999999,-70.82441300000001,-70.70392099999999,-70.81893599999999,-70.91752099999999,-71.185891,-71.29543,-72.456542,-72.544173,-72.533219,-72.445588,-72.456542,-72.379864,-72.20460199999999,-72.11697100000001,-72.02934,-72.034817,-71.70072399999999,-71.536416,-71.629524,-71.4926,-71.50355399999999,-71.361154,-71.131122,-71.08183],"lat":[45.303304,44.657025,43.34256,43.227544,43.128959,43.057759,42.871543,42.887974,42.789389,42.696281,42.729142,42.80582,42.953697,43.008466,43.150867,43.572591,43.769761,43.994316,44.07647,44.322932,44.41604,44.585825,44.750133,44.914442,45.013027,45.270443,45.243058,45.303304]}]],[[{"lng":[-74.236547,-73.90245400000001,-74.022947,-74.18725499999999,-74.274886,-74.00103900000001,-73.979131,-74.09962400000001,-74.41180900000001,-74.614456,-74.79519500000001,-74.88830299999999,-75.17858099999999,-75.534582,-75.55649,-75.561967,-75.50719700000001,-75.414089,-75.145719,-75.129289,-74.82258,-74.773287,-75.058088,-75.069042,-75.19501200000001,-75.205966,-75.052611,-75.134765,-74.88282599999999,-74.828057,-74.69661000000001,-74.236547],"lat":[41.14083,40.998429,40.708151,40.642428,40.489074,40.412397,40.297381,39.760641,39.360824,39.245808,38.993869,39.158177,39.240331,39.459409,39.607286,39.629194,39.683964,39.804456,39.88661,39.963288,40.127596,40.215227,40.417874,40.543843,40.576705,40.691721,40.866983,40.971045,41.179168,41.288707,41.359907,41.14083]}]],[[{"lng":[-107.421329,-106.868158,-104.337812,-103.001438,-103.001438,-103.039777,-103.045254,-103.067161,-103.067161,-106.616219,-106.643603,-106.528588,-108.210008,-108.210008,-109.04798,-109.042503,-107.421329],"lat":[37.000263,36.994786,36.994786,37.000263,36.501861,36.501861,34.01533,33.002096,31.999816,31.999816,31.901231,31.786216,31.786216,31.331629,31.331629,37.000263,37.000263]}]],[[{"lng":[-73.343806,-73.332852,-73.38762199999999,-73.29451400000001,-73.321898,-73.436914,-73.349283,-73.40405199999999,-73.245221,-73.278083,-73.267129,-73.50811400000001,-73.486206,-73.55193,-73.48072999999999,-73.727192,-73.655992,-73.22879,-73.141159,-72.774204,-72.587988,-72.28128,-72.259372,-72.10054100000001,-72.467496,-73.239744,-73.562884,-73.776484,-73.935316,-74.022947,-73.90245400000001,-74.236547,-74.69661000000001,-74.740426,-74.89378000000001,-75.074519,-75.052611,-75.173104,-75.249781,-75.35932,-79.76278000000001,-79.76278000000001,-79.76278000000001,-79.14936299999999,-79.05077799999999,-78.85360799999999,-78.930285,-79.012439,-79.072686,-78.486653,-77.96634400000001,-77.75821999999999,-77.533665,-77.391265,-76.95858699999999,-76.69569300000001,-76.41637,-76.235631,-76.230154,-76.137046,-76.3616,-76.312308,-75.912491,-75.76461399999999,-75.28264299999999,-74.828057,-74.148916,-73.343806],"lat":[45.013027,44.804903,44.618687,44.437948,44.246255,44.043608,43.769761,43.687607,43.523299,42.833204,42.745573,42.08834,42.050002,41.294184,41.21203,41.102491,40.987475,40.905321,40.965568,40.965568,40.998429,41.157261,41.042245,40.992952,40.845075,40.625997,40.582182,40.593136,40.543843,40.708151,40.998429,41.14083,41.359907,41.431108,41.436584,41.60637,41.754247,41.869263,41.863786,42.000709,42.000709,42.252649,42.269079,42.55388,42.690804,42.783912,42.953697,42.986559,43.260406,43.375421,43.369944,43.34256,43.233021,43.276836,43.271359,43.34256,43.523299,43.528776,43.802623,43.961454,44.070993,44.196962,44.366748,44.514625,44.848718,45.018503,44.991119,45.013027]}]],[[{"lng":[-80.978661,-80.294043,-79.510841,-75.86867599999999,-75.75366,-76.032984,-76.071322,-76.410893,-76.460185,-76.68474000000001,-76.67378600000001,-76.399939,-76.3616,-76.060368,-75.961783,-75.78104399999999,-75.715321,-75.77556800000001,-75.89606000000001,-76.147999,-76.48209300000001,-76.536862,-76.394462,-76.27944599999999,-76.493047,-76.67378600000001,-76.99144800000001,-77.210526,-77.555573,-77.82942,-77.97182100000001,-78.17994400000001,-78.541422,-79.675149,-80.797922,-80.781491,-80.934845,-81.03890699999999,-81.04438399999999,-82.276696,-82.550543,-82.764143,-83.109191,-83.61854599999999,-84.319594,-84.29221,-84.09504,-84.01836299999999,-83.7719,-83.498053,-83.251591,-82.994175,-82.775097,-82.63817400000001,-82.610789,-82.216449,-82.03570999999999,-81.909741,-81.723525,-81.679709,-80.978661],"lat":[36.562108,36.545677,36.5402,36.551154,36.151337,36.189676,36.140383,36.080137,36.025367,36.008937,35.937736,35.987029,35.943213,35.992506,35.899398,35.937736,35.696751,35.581735,35.570781,35.324319,35.313365,35.14358,34.973795,34.940933,34.661609,34.694471,34.667086,34.60684,34.415147,34.163208,33.845545,33.916745,33.851022,34.80401,34.820441,34.935456,35.105241,35.044995,35.149057,35.198349,35.160011,35.066903,35.00118,34.984749,34.990226,35.225734,35.247642,35.41195,35.559827,35.565304,35.718659,35.773428,35.997983,36.063706,35.965121,36.156814,36.118475,36.304691,36.353984,36.589492,36.562108]}]],[[{"lng":[-97.22874299999999,-97.097296,-97.16302,-97.13015799999999,-97.053481,-96.85631100000001,-96.823449,-96.785111,-96.801542,-96.719387,-96.598895,-96.56055600000001,-104.047534,-104.042057,-104.047534,-97.22874299999999],"lat":[49.000239,48.682577,48.545653,48.140359,47.948667,47.609096,46.968294,46.924479,46.656109,46.437031,46.332969,45.933153,45.944106,47.861036,49.000239,49.000239]}]],[[{"lng":[-80.518598,-80.518598,-80.66647500000001,-80.595275,-80.600752,-80.737675,-80.830783,-81.219646,-81.34561600000001,-81.455155,-81.57017,-81.685186,-81.811156,-81.783771,-81.887833,-82.03570999999999,-82.221926,-82.172634,-82.293127,-82.33146499999999,-82.594358,-82.73128199999999,-82.846298,-82.890113,-83.03251400000001,-83.14205200000001,-83.519961,-83.678792,-83.903347,-84.21553299999999,-84.23196299999999,-84.43461000000001,-84.81799599999999,-84.801565,-84.807042,-83.454238,-83.065375,-82.93392900000001,-82.83534400000001,-82.616266,-82.479343,-82.013803,-81.73995600000001,-81.44420100000001,-81.011523,-80.518598,-80.518598],"lat":[41.978802,40.636951,40.582182,40.472643,40.319289,40.078303,39.711348,39.388209,39.344393,39.410117,39.267716,39.273193,39.0815,38.966484,38.873376,39.026731,38.785745,38.632391,38.577622,38.446175,38.424267,38.561191,38.588575,38.758361,38.725499,38.626914,38.703591,38.632391,38.769315,38.807653,38.895284,39.103408,39.103408,40.500028,41.694001,41.732339,41.595416,41.513262,41.589939,41.431108,41.381815,41.513262,41.485877,41.672093,41.852832,41.978802,41.978802]}]],[[{"lng":[-100.087706,-94.616242,-94.616242,-94.430026,-94.484796,-94.868182,-94.966767,-95.224183,-95.289906,-95.54732199999999,-95.602092,-95.83759999999999,-95.93618499999999,-96.14978600000001,-96.34695600000001,-96.423633,-96.631756,-96.85083400000001,-96.922034,-97.173974,-97.256128,-97.371143,-97.45877400000001,-97.694283,-97.869545,-97.94622200000001,-98.088623,-98.170777,-98.36247,-98.488439,-98.570593,-98.767763,-98.986841,-99.189488,-99.260688,-99.57835,-99.698843,-99.92339800000001,-100.000075,-100.000075,-101.812942,-103.001438,-103.001438,-102.042974,-100.087706],"lat":[37.000263,37.000263,36.501861,35.395519,33.637421,33.74696,33.861976,33.960561,33.87293,33.878407,33.933176,33.834591,33.889361,33.840068,33.686714,33.774345,33.845545,33.845545,33.960561,33.736006,33.861976,33.823637,33.905791,33.982469,33.851022,33.987946,34.004376,34.113915,34.157731,34.064623,34.146777,34.135823,34.223454,34.2125,34.404193,34.415147,34.382285,34.573978,34.563024,36.501861,36.501861,36.501861,37.000263,36.994786,37.000263]}]],[[{"lng":[-123.211348,-123.11824,-122.904639,-122.811531,-122.762239,-122.247407,-121.809251,-121.535404,-121.217742,-121.18488,-120.637186,-120.505739,-120.209985,-119.963522,-119.525367,-119.125551,-118.988627,-116.918344,-116.78142,-116.545912,-116.463758,-116.671881,-116.732128,-116.847143,-116.830713,-116.934774,-117.038836,-117.241483,-117.170283,-116.97859,-116.896436,-117.027882,-117.027882,-118.698349,-120.001861,-121.037003,-122.378853,-123.233256,-124.213628,-124.356029,-124.432706,-124.416275,-124.553198,-124.454613,-124.383413,-124.235536,-124.169813,-124.060274,-124.076705,-123.97812,-123.939781,-123.994551,-123.945258,-123.545441,-123.370179,-123.211348],"lat":[46.174138,46.185092,46.08103,45.960537,45.659305,45.549767,45.708598,45.725029,45.670259,45.604536,45.746937,45.697644,45.725029,45.823614,45.911245,45.933153,45.998876,45.993399,45.823614,45.752413,45.61549,45.319735,45.144473,45.02398,44.930872,44.782995,44.750133,44.394132,44.257209,44.240778,44.158624,43.830007,42.000709,41.989755,41.995232,41.995232,42.011663,42.006186,42.000709,42.115725,42.438865,42.663419,42.838681,43.002989,43.271359,43.55616,43.8081,44.657025,44.772041,45.144473,45.659305,45.944106,46.113892,46.261769,46.146753,46.174138]}]],[[{"lng":[-79.76278000000001,-79.76278000000001,-75.35932,-75.249781,-75.173104,-75.052611,-75.074519,-74.89378000000001,-74.740426,-74.69661000000001,-74.828057,-74.88282599999999,-75.134765,-75.052611,-75.205966,-75.19501200000001,-75.069042,-75.058088,-74.773287,-74.82258,-75.129289,-75.145719,-75.414089,-75.616736,-75.78652099999999,-79.477979,-80.518598,-80.518598,-80.518598,-80.518598,-80.332382,-79.76278000000001,-79.76278000000001],"lat":[42.252649,42.000709,42.000709,41.863786,41.869263,41.754247,41.60637,41.436584,41.431108,41.359907,41.288707,41.179168,40.971045,40.866983,40.691721,40.576705,40.543843,40.417874,40.215227,40.127596,39.963288,39.88661,39.804456,39.831841,39.722302,39.722302,39.722302,40.636951,41.978802,41.978802,42.033571,42.269079,42.252649]}]],[[{"lng":[-71.196845,-71.12016800000001,-71.31733800000001,-71.196845],"lat":[41.67757,41.496831,41.474923,41.67757]}],[{"lng":[-71.530939,-71.383061,-71.328292,-71.22423000000001,-71.344723,-71.448785,-71.481646,-71.859555,-71.79930899999999,-71.79930899999999,-71.530939],"lat":[42.01714,42.01714,41.781632,41.710431,41.726862,41.578985,41.370861,41.321569,41.414677,42.006186,42.01714]}]],[[{"lng":[-82.764143,-82.550543,-82.276696,-81.04438399999999,-81.03890699999999,-80.934845,-80.781491,-80.797922,-79.675149,-78.541422,-78.716684,-78.935762,-79.14936299999999,-79.187701,-79.35748700000001,-79.582041,-79.631334,-79.86684200000001,-79.998289,-80.206412,-80.430967,-80.45287500000001,-80.66099800000001,-80.885553,-81.115584,-81.121061,-81.279893,-81.416816,-81.42777,-81.493493,-81.76186300000001,-81.93712499999999,-81.92617199999999,-82.194542,-82.325988,-82.55602,-82.714851,-82.747713,-82.901067,-83.005129,-83.33922200000001,-83.322791,-83.109191,-82.764143],"lat":[35.066903,35.160011,35.198349,35.149057,35.044995,35.105241,34.935456,34.820441,34.80401,33.851022,33.80173,33.637421,33.380005,33.171881,33.007573,33.007573,32.887081,32.755634,32.613234,32.552987,32.399633,32.328433,32.246279,32.032678,32.120309,32.290094,32.558464,32.629664,32.843265,33.007573,33.160928,33.347144,33.462159,33.631944,33.81816,33.94413,34.152254,34.26727,34.486347,34.469916,34.683517,34.787579,35.00118,35.066903]}]],[[{"lng":[-104.047534,-96.56055600000001,-96.582464,-96.85631100000001,-96.681049,-96.45101699999999,-96.45101699999999,-96.582464,-96.52769499999999,-96.56055600000001,-96.43458699999999,-96.511264,-96.54412499999999,-96.631756,-96.44553999999999,-96.626279,-96.692003,-97.217789,-97.688806,-97.83120599999999,-97.951699,-98.466531,-98.499393,-101.626726,-103.324578,-104.053011,-104.058488,-104.042057,-104.047534],"lat":[45.944106,45.933153,45.818137,45.604536,45.412843,45.297827,43.501391,43.479483,43.397329,43.222067,43.123482,43.052282,42.855112,42.707235,42.488157,42.515542,42.657942,42.844158,42.844158,42.866066,42.767481,42.94822,42.997512,42.997512,43.002989,43.002989,44.996596,44.996596,45.944106]}]],[[{"lng":[-88.054868,-88.071299,-87.852221,-86.59252499999999,-85.486183,-85.289013,-84.544149,-83.689746,-83.673316,-81.679709,-81.723525,-81.909741,-82.03570999999999,-82.216449,-82.610789,-82.63817400000001,-82.775097,-82.994175,-83.251591,-83.498053,-83.7719,-84.01836299999999,-84.09504,-84.29221,-84.319594,-85.606675,-87.359296,-88.20274499999999,-88.471115,-90.311367,-90.212782,-90.114197,-90.130628,-89.944412,-89.911551,-89.763673,-89.730812,-89.533642,-89.539119,-89.48434899999999,-89.418626,-89.29813300000001,-88.054868],"lat":[36.496384,36.677123,36.633308,36.655216,36.616877,36.627831,36.594969,36.584015,36.600446,36.589492,36.353984,36.304691,36.118475,36.156814,35.965121,36.063706,35.997983,35.773428,35.718659,35.565304,35.559827,35.41195,35.247642,35.225734,34.990226,34.984749,35.00118,34.995703,34.995703,34.995703,35.023087,35.198349,35.439335,35.603643,35.756997,35.811767,35.997983,36.249922,36.496384,36.496384,36.496384,36.507338,36.496384]}]],[[{"lng":[-101.812942,-100.000075,-100.000075,-99.92339800000001,-99.698843,-99.57835,-99.260688,-99.189488,-98.986841,-98.767763,-98.570593,-98.488439,-98.36247,-98.170777,-98.088623,-97.94622200000001,-97.869545,-97.694283,-97.45877400000001,-97.371143,-97.256128,-97.173974,-96.922034,-96.85083400000001,-96.631756,-96.423633,-96.34695600000001,-96.14978600000001,-95.93618499999999,-95.83759999999999,-95.602092,-95.54732199999999,-95.289906,-95.224183,-94.966767,-94.868182,-94.484796,-94.380734,-94.183564,-94.04116399999999,-94.04116399999999,-94.04116399999999,-93.822086,-93.816609,-93.542762,-93.526331,-93.630393,-93.728978,-93.696116,-93.76731700000001,-93.690639,-93.926148,-93.838517,-94.002825,-94.523134,-94.70935,-94.74221199999999,-94.873659,-94.966767,-95.016059,-94.911997,-94.895566,-95.081782,-95.383014,-95.985477,-96.04572400000001,-96.226463,-96.23193999999999,-96.478402,-96.593418,-96.664618,-96.401725,-96.593418,-96.774157,-96.801542,-97.026096,-97.256128,-97.404005,-97.513544,-97.54092900000001,-97.42591299999999,-97.480682,-97.55735900000001,-97.562836,-97.469728,-97.44234400000001,-97.33280499999999,-97.30542,-97.217789,-97.52449799999999,-97.65046700000001,-97.885976,-98.198161,-98.466531,-98.669178,-98.82253300000001,-99.03065599999999,-99.173057,-99.266165,-99.446904,-99.42499599999999,-99.50715,-99.479765,-99.605735,-99.70979699999999,-99.879582,-99.93435100000001,-100.082229,-100.29583,-100.399891,-100.498476,-100.629923,-100.673738,-100.799708,-101.013309,-101.062601,-101.259771,-101.413125,-101.851281,-102.114174,-102.338728,-102.388021,-102.629006,-102.809745,-102.919284,-102.97953,-103.116454,-103.280762,-103.527224,-104.146119,-104.266611,-104.507597,-104.677382,-104.688336,-104.858121,-104.896459,-105.005998,-105.394861,-105.602985,-105.77277,-105.953509,-106.205448,-106.38071,-106.528588,-106.643603,-106.616219,-103.067161,-103.067161,-103.045254,-103.039777,-103.001438,-101.812942],"lat":[36.501861,36.501861,34.563024,34.573978,34.382285,34.415147,34.404193,34.2125,34.223454,34.135823,34.146777,34.064623,34.157731,34.113915,34.004376,33.987946,33.851022,33.982469,33.905791,33.823637,33.861976,33.736006,33.960561,33.845545,33.845545,33.774345,33.686714,33.840068,33.889361,33.834591,33.933176,33.878407,33.87293,33.960561,33.861976,33.74696,33.637421,33.544313,33.593606,33.54979,33.018527,31.994339,31.775262,31.556184,31.15089,30.93729,30.679874,30.575812,30.438888,30.334826,30.143133,29.787132,29.688547,29.68307,29.546147,29.622824,29.787132,29.672117,29.699501,29.557101,29.496854,29.310638,29.113469,28.867006,28.604113,28.647929,28.582205,28.642452,28.598636,28.724606,28.697221,28.439805,28.357651,28.406943,28.226204,28.039988,27.694941,27.333463,27.360848,27.229401,27.262263,26.99937,26.988416,26.840538,26.758384,26.457153,26.353091,26.161398,25.991613,25.887551,26.018997,26.06829,26.057336,26.221644,26.238075,26.369522,26.413337,26.539307,26.840538,27.021277,27.174632,27.33894,27.48134,27.640172,27.656603,27.799003,27.979742,28.14405,28.280974,28.582205,28.66436,28.905345,29.102515,29.244915,29.370885,29.458516,29.535193,29.754271,29.803563,29.792609,29.869286,29.765225,29.732363,29.524239,29.190146,29.184669,28.987499,28.982022,29.135376,29.381839,29.513285,29.639255,29.924056,30.181472,30.389596,30.570335,30.685351,30.855136,31.085167,31.167321,31.364491,31.468553,31.731446,31.786216,31.901231,31.999816,31.999816,33.002096,34.01533,36.501861,36.501861,36.501861]}]],[[{"lng":[-112.164359,-111.047063,-111.047063,-109.04798,-109.053457,-109.058934,-109.042503,-109.042503,-110.499369,-114.048427,-114.04295,-112.164359],"lat":[41.995232,42.000709,40.998429,40.998429,39.125316,38.27639,38.166851,37.000263,37.00574,37.000263,41.995232,41.995232]}]],[[{"lng":[-71.50355399999999,-71.4926,-71.629524,-71.536416,-71.70072399999999,-72.034817,-72.02934,-72.11697100000001,-72.20460199999999,-72.379864,-72.456542,-72.445588,-72.533219,-72.544173,-72.456542,-73.267129,-73.278083,-73.245221,-73.40405199999999,-73.349283,-73.436914,-73.321898,-73.29451400000001,-73.38762199999999,-73.332852,-73.343806,-72.30866399999999,-71.50355399999999],"lat":[45.013027,44.914442,44.750133,44.585825,44.41604,44.322932,44.07647,43.994316,43.769761,43.572591,43.150867,43.008466,42.953697,42.80582,42.729142,42.745573,42.833204,43.523299,43.687607,43.769761,44.043608,44.246255,44.437948,44.618687,44.804903,45.013027,45.002073,45.013027]}]],[[{"lng":[-75.397659,-75.244304,-75.37575099999999,-75.512674,-75.59482800000001,-75.802952,-75.972737,-76.027507,-75.939876,-75.67150599999999,-75.397659],"lat":[38.013497,38.029928,37.860142,37.799896,37.569865,37.197433,37.120755,37.257679,37.564388,37.95325,38.013497]}],[{"lng":[-76.016553,-75.99464500000001,-76.043938,-76.016553],"lat":[37.95325,37.95325,37.95325,37.95325]}],[{"lng":[-78.349729,-77.82942,-77.719881,-77.56652699999999,-77.456988,-77.456988,-77.248864,-77.117418,-77.040741,-77.128372,-77.248864,-77.325542,-77.28172600000001,-77.013356,-76.96406399999999,-76.613539,-76.514954,-76.235631,-76.3616,-76.246584,-76.38350800000001,-76.399939,-76.27396899999999,-76.410893,-76.619016,-76.66830899999999,-76.48757000000001,-75.99464500000001,-75.86867599999999,-79.510841,-80.294043,-80.978661,-81.679709,-83.673316,-83.13657499999999,-83.070852,-82.879159,-82.868205,-82.72032799999999,-82.72032799999999,-82.353373,-81.969987,-81.986418,-81.84949400000001,-81.679709,-81.55374,-81.362047,-81.225123,-80.967707,-80.513121,-80.474782,-80.29952,-80.294043,-80.184505,-79.998289,-79.921611,-79.724442,-79.647764,-79.477979,-79.313671,-79.209609,-78.996008,-78.87003900000001,-78.404499,-78.349729],"lat":[39.464886,39.130793,39.322485,39.306055,39.223901,39.076023,39.026731,38.933623,38.791222,38.632391,38.588575,38.446175,38.342113,38.374975,38.216144,38.15042,38.024451,37.887527,37.608203,37.389126,37.285064,37.159094,37.082417,36.961924,37.120755,37.065986,36.95097,36.923586,36.551154,36.5402,36.545677,36.562108,36.589492,36.600446,36.742847,36.852385,36.890724,36.978355,37.044078,37.120755,37.268633,37.537003,37.454849,37.285064,37.20291,37.208387,37.339833,37.235771,37.290541,37.482234,37.421987,37.509618,37.690357,37.849189,37.997066,38.177805,38.364021,38.594052,38.457129,38.413313,38.495467,38.851469,38.763838,39.169131,39.464886]}]],[[{"lng":[-117.033359,-117.044313,-117.038836,-117.055267,-116.92382,-116.918344,-118.988627,-119.125551,-119.525367,-119.963522,-120.209985,-120.505739,-120.637186,-121.18488,-121.217742,-121.535404,-121.809251,-122.247407,-122.762239,-122.811531,-122.904639,-123.11824,-123.211348,-123.370179,-123.545441,-123.72618,-123.874058,-124.065751,-124.027412,-123.895966,-124.098612,-124.235536,-124.31769,-124.427229,-124.624399,-124.706553,-124.597014,-124.394367,-123.983597,-123.704273,-123.424949,-123.162056,-123.036086,-122.800578,-122.636269,-122.515777,-122.493869,-122.422669,-122.324084,-122.422669,-122.395284,-122.230976,-122.362422,-122.373376,-122.471961,-122.422669,-122.488392,-122.647223,-122.795101,-122.756762,-117.033359],"lat":[49.000239,47.762451,46.426077,46.343923,46.168661,45.993399,45.998876,45.933153,45.911245,45.823614,45.725029,45.697644,45.746937,45.604536,45.670259,45.725029,45.708598,45.549767,45.659305,45.960537,46.08103,46.185092,46.174138,46.146753,46.261769,46.300108,46.239861,46.327492,46.464416,46.535616,46.74374,47.285957,47.357157,47.740543,47.88842,48.184175,48.381345,48.288237,48.162267,48.167744,48.118452,48.167744,48.080113,48.08559,47.866512,47.882943,47.587189,47.318818,47.346203,47.576235,47.800789,48.030821,48.123929,48.288237,48.468976,48.600422,48.753777,48.775685,48.8907,49.000239,49.000239]}],[{"lng":[-122.718423,-122.586977,-122.608885,-122.767716,-122.718423],"lat":[48.310145,48.35396,48.151313,48.227991,48.310145]}],[{"lng":[-123.025132,-122.915593,-122.767716,-122.811531,-123.041563,-123.025132],"lat":[48.583992,48.715438,48.556607,48.419683,48.458022,48.583992]}]],[[{"lng":[-80.518598,-80.518598,-79.477979,-79.488933,-79.291763,-79.094593,-78.96314700000001,-78.76597700000001,-78.47022200000001,-78.431884,-78.26757499999999,-78.17446700000001,-78.004682,-77.834897,-77.719881,-77.82942,-78.349729,-78.404499,-78.87003900000001,-78.996008,-79.209609,-79.313671,-79.477979,-79.647764,-79.724442,-79.921611,-79.998289,-80.184505,-80.294043,-80.29952,-80.474782,-80.513121,-80.967707,-81.225123,-81.362047,-81.55374,-81.679709,-81.84949400000001,-81.986418,-81.969987,-82.101434,-82.293127,-82.34241900000001,-82.50125,-82.621743,-82.594358,-82.33146499999999,-82.293127,-82.172634,-82.221926,-82.03570999999999,-81.887833,-81.783771,-81.811156,-81.685186,-81.57017,-81.455155,-81.34561600000001,-81.219646,-80.830783,-80.737675,-80.600752,-80.595275,-80.66647500000001,-80.518598],"lat":[40.636951,39.722302,39.722302,39.20747,39.300578,39.470363,39.437501,39.585379,39.514178,39.623717,39.61824,39.694917,39.601809,39.601809,39.322485,39.130793,39.464886,39.169131,38.763838,38.851469,38.495467,38.413313,38.457129,38.594052,38.364021,38.177805,37.997066,37.849189,37.690357,37.509618,37.421987,37.482234,37.290541,37.235771,37.339833,37.208387,37.20291,37.285064,37.454849,37.537003,37.553434,37.668449,37.783465,37.931343,38.123036,38.424267,38.446175,38.577622,38.632391,38.785745,39.026731,38.873376,38.966484,39.0815,39.273193,39.267716,39.410117,39.344393,39.388209,39.711348,40.078303,40.319289,40.472643,40.582182,40.636951]}]],[[{"lng":[-90.415429,-90.229213,-90.119674,-89.09001000000001,-88.662808,-88.531362,-88.10415999999999,-87.98914499999999,-87.781021,-87.79197499999999,-87.88508299999999,-87.649574,-87.742682,-87.58932799999999,-87.627666,-87.81935900000001,-87.98366799999999,-88.043914,-87.928898,-87.775544,-87.61123600000001,-87.40311199999999,-87.238804,-87.03068,-87.047111,-87.189511,-87.468835,-87.545512,-87.540035,-87.644097,-87.737205,-87.70434400000001,-87.79197499999999,-87.91246700000001,-87.88508299999999,-87.76459,-87.80292900000001,-88.78877799999999,-90.639984,-90.711184,-91.06718499999999,-91.143862,-91.17672399999999,-91.056231,-91.204109,-91.215062,-91.26983199999999,-91.242447,-91.43414,-91.59297100000001,-91.87777199999999,-91.927065,-92.233773,-92.337835,-92.545959,-92.808852,-92.737652,-92.75955999999999,-92.644544,-92.77051299999999,-92.88552900000001,-92.86909799999999,-92.639067,-92.354266,-92.29402,-92.29402,-92.091373,-92.014696,-91.79014100000001,-91.09457,-90.837154,-90.749522,-90.88644600000001,-90.55783,-90.415429],"lat":[46.568478,46.508231,46.338446,46.135799,45.987922,46.020784,45.922199,45.796229,45.675736,45.500474,45.363551,45.341643,45.199243,45.095181,44.974688,44.95278,44.722749,44.563917,44.536533,44.640595,44.837764,44.914442,45.166381,45.22115,45.089704,44.969211,44.552964,44.322932,44.158624,44.103854,43.8793,43.687607,43.561637,43.249452,43.002989,42.783912,42.493634,42.493634,42.510065,42.636034,42.75105,42.909881,43.134436,43.254929,43.353514,43.501391,43.616407,43.775238,43.994316,44.032654,44.202439,44.333886,44.443425,44.552964,44.569394,44.750133,45.117088,45.286874,45.440228,45.566198,45.577151,45.719552,45.933153,46.015307,46.075553,46.667063,46.749217,46.705401,46.694447,46.864232,46.95734,46.88614,46.754694,46.584908,46.568478]}]],[[{"lng":[-109.080842,-105.91517,-104.058488,-104.053011,-104.053011,-105.728954,-107.919731,-109.04798,-111.047063,-111.047063,-111.047063,-111.05254,-109.080842],"lat":[45.002073,45.002073,44.996596,43.002989,41.003906,40.998429,41.003906,40.998429,40.998429,42.000709,44.476286,45.002073,45.002073]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":["#FFF4B1","#FFF8BB","#FFF9BD","#FFE289","#FFF9BE","#FD632F","#FEA647","#FFC05B","#FFE998","#FFFDC7","#FFE58F","#FFE998","#FFF9BE","#FFFCC4","#FFF2AD","#FFF4B0","#FFFAC1","#FD8C3C","#EB2F20","#FFEB9C","#FFF7BA","#FFF8BC","#FFF5B4","#FFFFCB","#FFFDC6","#FFFCC6","#FFEEA2","#800026","#FFFEC9","#FFC25D","#FFE590","#FFFECB","#FEDD7F","#FFF9BD","#FFFBC1","#FEDD7E","#C80824","#FFEB9C","#FFFECA","#FFEC9D","#FFF2AD","#FFFBC2","#FFF8BA","#FFE691","#FFF2AD","#FFF7B9","#FFF3AF","#FFFFCC"],"weight":2,"opacity":1,"fill":true,"fillColor":["#FFF4B1","#FFF8BB","#FFF9BD","#FFE289","#FFF9BE","#FD632F","#FEA647","#FFC05B","#FFE998","#FFFDC7","#FFE58F","#FFE998","#FFF9BE","#FFFCC4","#FFF2AD","#FFF4B0","#FFFAC1","#FD8C3C","#EB2F20","#FFEB9C","#FFF7BA","#FFF8BC","#FFF5B4","#FFFFCB","#FFFDC6","#FFFCC6","#FFEEA2","#800026","#FFFEC9","#FFC25D","#FFE590","#FFFECB","#FEDD7F","#FFF9BD","#FFFBC1","#FEDD7E","#C80824","#FFEB9C","#FFFECA","#FFEC9D","#FFF2AD","#FFFBC2","#FFF8BA","#FFE691","#FFF2AD","#FFF7B9","#FFF3AF","#FFFFCC"],"fillOpacity":0.7,"dashArray":"3","smoothFactor":1,"noClip":false},null,null,["alabama: 101 people per sq mile in 2023","arizona: 65 people per sq mile in 2023","arkansas: 59 people per sq mile in 2023","california: 250 people per sq mile in 2023","colorado: 57 people per sq mile in 2023","connecticut: 747 people per sq mile in 2023","delaware: 529 people per sq mile in 2023","florida: 422 people per sq mile in 2023","georgia: 192 people per sq mile in 2023","idaho: 24 people per sq mile in 2023","illinois: 226 people per sq mile in 2023","indiana: 192 people per sq mile in 2023","iowa: 57 people per sq mile in 2023","kansas: 36 people per sq mile in 2023","kentucky: 115 people per sq mile in 2023","louisiana: 106 people per sq mile in 2023","maine: 45 people per sq mile in 2023","maryland: 637 people per sq mile in 2023","massachusetts: 898 people per sq mile in 2023","michigan: 178 people per sq mile in 2023","minnesota: 72 people per sq mile in 2023","mississippi: 63 people per sq mile in 2023","missouri: 90 people per sq mile in 2023","montana: 7.8 people per sq mile in 2023","nebraska: 26 people per sq mile in 2023","nevada: 29 people per sq mile in 2023","new hampshire: 157 people per sq mile in 2023","new jersey: 1263 people per sq mile in 2023","new mexico: 17 people per sq mile in 2023","new york: 415 people per sq mile in 2023","north carolina: 223 people per sq mile in 2023","north dakota: 11 people per sq mile in 2023","ohio: 288 people per sq mile in 2023","oklahoma: 59 people per sq mile in 2023","oregon: 44 people per sq mile in 2023","pennsylvania: 290 people per sq mile in 2023","rhode island: 1060 people per sq mile in 2023","south carolina: 179 people per sq mile in 2023","south dakota: 12 people per sq mile in 2023","tennessee: 173 people per sq mile in 2023","texas: 117 people per sq mile in 2023","utah: 42 people per sq mile in 2023","vermont: 70 people per sq mile in 2023","virginia: 221 people per sq mile in 2023","washington: 118 people per sq mile in 2023","west virginia: 74 people per sq mile in 2023","wisconsin: 109 people per sq mile in 2023","wyoming: 6 people per sq mile in 2023"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"15px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"color":"#666","weight":5,"fillOpacity":0.7,"dashArray":"","bringToFront":true}]}],"limits":{"lat":[25.120779,49.383625],"lng":[-124.706553,-66.979601]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># should use addLegend() but not trivial without pre-set bins</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here’s an interactive plot with our own bins:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create our own category bins for population densities</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   and assign the yellow-orange-red color palette</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>bins <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">500</span>, <span class="dv">1000</span>, <span class="cn">Inf</span>)</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">colorBin</span>(<span class="st">"YlOrRd"</span>, <span class="at">domain =</span> density_sf<span class="sc">$</span>Density, <span class="at">bins =</span> bins)</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create labels that pop up when we hover over a state.  The labels must</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   be part of a list where each entry is tagged as HTML code.</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>density_sf <span class="ot">&lt;-</span> density_sf <span class="sc">|&gt;</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">labels =</span> <span class="fu">str_c</span>(name, <span class="st">": "</span>, Density, <span class="st">" people / sq mile"</span>))</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">lapply</span>(density_sf<span class="sc">$</span>labels, HTML)</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a><span class="co"># If want more HTML formatting, use these lines instead of those above:</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a><span class="co"># states &lt;- states |&gt;</span></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(labels = glue("&lt;strong&gt;{name}&lt;/strong&gt;&lt;br/&gt;{density} people / </span></span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   mi&lt;sup&gt;2&lt;/sup&gt;"))</span></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a><span class="co"># labels &lt;- lapply(states$labels, HTML)</span></span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>(density_sf) <span class="sc">|&gt;</span></span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setView</span>(<span class="sc">-</span><span class="dv">96</span>, <span class="fl">37.8</span>, <span class="dv">4</span>) <span class="sc">|&gt;</span></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addTiles</span>() <span class="sc">|&gt;</span></span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addPolygons</span>(</span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillColor =</span> <span class="sc">~</span><span class="fu">pal</span>(Density),</span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight =</span> <span class="dv">2</span>,</span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity =</span> <span class="dv">1</span>,</span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">dashArray =</span> <span class="st">"3"</span>,</span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillOpacity =</span> <span class="fl">0.7</span>,</span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">highlightOptions =</span> <span class="fu">highlightOptions</span>(</span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">weight =</span> <span class="dv">5</span>,</span>
<span id="cb55-30"><a href="#cb55-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">"#666"</span>,</span>
<span id="cb55-31"><a href="#cb55-31" aria-hidden="true" tabindex="-1"></a>      <span class="at">dashArray =</span> <span class="st">""</span>,</span>
<span id="cb55-32"><a href="#cb55-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">fillOpacity =</span> <span class="fl">0.7</span>,</span>
<span id="cb55-33"><a href="#cb55-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">bringToFront =</span> <span class="cn">TRUE</span>),</span>
<span id="cb55-34"><a href="#cb55-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> labels,</span>
<span id="cb55-35"><a href="#cb55-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">labelOptions =</span> <span class="fu">labelOptions</span>(</span>
<span id="cb55-36"><a href="#cb55-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">style =</span> <span class="fu">list</span>(<span class="st">"font-weight"</span> <span class="ot">=</span> <span class="st">"normal"</span>, <span class="at">padding =</span> <span class="st">"3px 8px"</span>),</span>
<span id="cb55-37"><a href="#cb55-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">textsize =</span> <span class="st">"15px"</span>,</span>
<span id="cb55-38"><a href="#cb55-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">direction =</span> <span class="st">"auto"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb55-39"><a href="#cb55-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addLegend</span>(<span class="at">pal =</span> pal, <span class="at">values =</span> <span class="sc">~</span>Density, <span class="at">opacity =</span> <span class="fl">0.7</span>, <span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb55-40"><a href="#cb55-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"bottomright"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-fa0d100049f468885ca6" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-fa0d100049f468885ca6">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[37.8,-96],4,[]],"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addPolygons","args":[[[[{"lng":[-87.359296,-85.606675,-85.43141300000001,-85.184951,-85.069935,-84.960397,-85.004212,-84.889196,-85.058981,-85.053504,-85.141136,-85.042551,-85.11375099999999,-85.004212,-85.497137,-87.60028200000001,-87.633143,-87.40858900000001,-87.446927,-87.37025,-87.518128,-87.655051,-87.90698999999999,-87.934375,-88.01105200000001,-88.10415999999999,-88.137022,-88.39443799999999,-88.471115,-88.241084,-88.09868299999999,-88.20274499999999,-87.359296],"lat":[35.00118,34.984749,34.124869,32.859696,32.580372,32.421541,32.322956,32.262709,32.13674,32.01077,31.840985,31.539753,31.27686,31.003013,30.997536,30.997536,30.86609,30.674397,30.510088,30.427934,30.280057,30.247195,30.411504,30.657966,30.685351,30.499135,30.318396,30.367688,31.895754,33.796253,34.891641,34.995703,35.00118]}]],[[{"lng":[-109.042503,-109.04798,-111.074448,-112.246513,-114.815198,-114.72209,-114.524921,-114.470151,-114.524921,-114.661844,-114.727567,-114.524921,-114.497536,-114.535874,-114.415382,-114.256551,-114.136058,-114.333228,-114.470151,-114.634459,-114.634459,-114.574213,-114.596121,-114.678275,-114.738521,-114.371566,-114.251074,-114.152489,-114.048427,-114.048427,-110.499369,-109.042503],"lat":[37.000263,31.331629,31.331629,31.704061,32.492741,32.717295,32.755634,32.843265,33.029481,33.034958,33.40739,33.54979,33.697668,33.933176,34.108438,34.174162,34.305608,34.448009,34.710902,34.87521,35.00118,35.138103,35.324319,35.516012,36.102045,36.140383,36.01989,36.025367,36.195153,37.000263,37.00574,37.000263]}]],[[{"lng":[-94.473842,-90.152536,-90.064905,-90.218259,-90.37709099999999,-89.730812,-89.763673,-89.911551,-89.944412,-90.130628,-90.114197,-90.212782,-90.311367,-90.251121,-90.409952,-90.48115199999999,-90.58521399999999,-90.568783,-90.749522,-90.744046,-90.952169,-90.89192300000001,-91.07266199999999,-91.231493,-91.056231,-91.143862,-91.08909300000001,-91.16576999999999,-93.608485,-94.04116399999999,-94.04116399999999,-94.183564,-94.380734,-94.484796,-94.430026,-94.616242,-94.473842],"lat":[36.501861,36.496384,36.304691,36.184199,35.997983,35.997983,35.811767,35.756997,35.603643,35.439335,35.198349,35.023087,34.995703,34.908072,34.831394,34.661609,34.617794,34.420624,34.365854,34.300131,34.135823,34.026284,33.867453,33.560744,33.429298,33.347144,33.13902,33.002096,33.018527,33.018527,33.54979,33.593606,33.544313,33.637421,35.395519,36.501861,36.501861]}]],[[{"lng":[-123.233256,-122.378853,-121.037003,-120.001861,-119.996384,-120.001861,-118.71478,-117.498899,-116.540435,-115.85034,-114.634459,-114.634459,-114.470151,-114.333228,-114.136058,-114.256551,-114.415382,-114.535874,-114.497536,-114.524921,-114.727567,-114.661844,-114.524921,-114.470151,-114.524921,-114.72209,-116.04751,-117.126467,-117.24696,-117.252437,-117.329114,-117.471515,-117.7837,-118.183517,-118.260194,-118.413548,-118.391641,-118.566903,-118.802411,-119.218659,-119.278905,-119.558229,-119.875891,-120.138784,-120.472878,-120.64814,-120.609801,-120.670048,-120.631709,-120.894602,-120.905556,-121.004141,-121.168449,-121.283465,-121.332757,-121.716143,-121.896882,-121.935221,-121.858544,-121.787344,-121.929744,-122.105006,-122.335038,-122.417192,-122.400761,-122.515777,-122.515777,-122.329561,-122.406238,-122.488392,-122.504823,-122.701993,-122.937501,-122.97584,-123.129194,-123.331841,-123.44138,-123.737134,-123.687842,-123.824765,-123.764519,-123.85215,-124.109566,-124.361506,-124.410798,-124.158859,-124.109566,-124.158859,-124.065751,-124.147905,-124.257444,-124.213628,-123.233256],"lat":[42.006186,42.011663,41.995232,41.995232,40.264519,38.999346,38.101128,37.21934,36.501861,35.970598,35.00118,34.87521,34.710902,34.448009,34.305608,34.174162,34.108438,33.933176,33.697668,33.54979,33.40739,33.034958,33.029481,32.843265,32.755634,32.717295,32.624187,32.536556,32.668003,32.876127,33.122589,33.297851,33.538836,33.763391,33.703145,33.741483,33.840068,34.042715,33.998899,34.146777,34.26727,34.415147,34.40967,34.475393,34.448009,34.579455,34.858779,34.902595,35.099764,35.247642,35.450289,35.461243,35.636505,35.674843,35.784382,36.195153,36.315645,36.638785,36.6114,36.803093,36.978355,36.956447,37.115279,37.241248,37.361741,37.520572,37.783465,37.783465,38.15042,38.112082,37.931343,37.893004,38.029928,38.265436,38.451652,38.566668,38.698114,38.95553,39.032208,39.366301,39.552517,39.831841,40.105688,40.259042,40.439781,40.877937,41.025814,41.14083,41.442061,41.715908,41.781632,42.000709,42.006186]}]],[[{"lng":[-107.919731,-105.728954,-104.053011,-102.053927,-102.053927,-102.042974,-103.001438,-104.337812,-106.868158,-107.421329,-109.042503,-109.042503,-109.058934,-109.053457,-109.04798,-107.919731],"lat":[41.003906,40.998429,41.003906,41.003906,40.001626,36.994786,37.000263,36.994786,36.994786,37.000263,37.000263,38.166851,38.27639,39.125316,40.998429,41.003906]}]],[[{"lng":[-73.053528,-71.79930899999999,-71.79930899999999,-71.79930899999999,-71.859555,-71.947186,-72.385341,-72.90565100000001,-73.130205,-73.371191,-73.655992,-73.727192,-73.48072999999999,-73.55193,-73.486206,-73.053528],"lat":[42.039048,42.022617,42.006186,41.414677,41.321569,41.338,41.261322,41.28323,41.146307,41.102491,40.987475,41.102491,41.21203,41.294184,42.050002,42.039048]}]],[[{"lng":[-75.414089,-75.50719700000001,-75.611259,-75.58935200000001,-75.441474,-75.403136,-75.18953500000001,-75.09095000000001,-75.047134,-75.69341300000001,-75.78652099999999,-75.616736,-75.414089],"lat":[39.804456,39.683964,39.61824,39.459409,39.311532,39.065069,38.807653,38.796699,38.451652,38.462606,39.722302,39.831841,39.804456]}]],[[{"lng":[-85.497137,-85.004212,-84.867289,-83.498053,-82.216449,-82.167157,-82.04666400000001,-82.002849,-82.04118699999999,-81.94807900000001,-81.718048,-81.44420100000001,-81.383954,-81.25798500000001,-80.967707,-80.524075,-80.589798,-80.56789000000001,-80.381674,-80.091397,-80.03115,-80.036627,-80.14616599999999,-80.23927399999999,-80.33785899999999,-80.304997,-80.49669,-80.573367,-80.75958300000001,-81.077246,-81.170354,-81.126538,-81.35109300000001,-81.526355,-81.679709,-81.800202,-81.83306399999999,-82.04118699999999,-82.09048,-82.05761800000001,-82.172634,-82.14524900000001,-82.24931100000001,-82.566974,-82.692943,-82.391711,-82.588881,-82.72032799999999,-82.85177400000001,-82.676512,-82.64365100000001,-82.764143,-82.802482,-82.994175,-83.218729,-83.399469,-83.410422,-83.53639200000001,-83.64045400000001,-84.02384000000001,-84.357933,-84.34150200000001,-84.451041,-84.867289,-85.31092099999999,-85.299967,-85.40402899999999,-85.92433800000001,-86.29677,-86.63086300000001,-86.91018699999999,-87.518128,-87.37025,-87.446927,-87.40858900000001,-87.633143,-87.60028200000001,-85.497137],"lat":[30.997536,31.003013,30.712735,30.647012,30.570335,30.356734,30.362211,30.564858,30.751074,30.827751,30.745597,30.707258,30.27458,29.787132,29.14633,28.461713,28.41242,28.094758,27.738757,27.021277,26.796723,26.566691,25.739673,25.723243,25.465826,25.383672,25.197456,25.241272,25.164595,25.120779,25.224841,25.378195,25.821827,25.903982,25.843735,26.090198,26.292844,26.517399,26.665276,26.878877,26.917216,26.791246,26.758384,27.300601,27.437525,27.837342,27.815434,27.689464,27.886634,28.434328,28.888914,28.998453,29.14633,29.179192,29.420177,29.518762,29.66664,29.721409,29.885717,30.104795,30.055502,29.902148,29.929533,29.743317,29.699501,29.80904,29.940487,30.236241,30.362211,30.395073,30.373165,30.280057,30.427934,30.510088,30.674397,30.86609,30.997536,30.997536]}]],[[{"lng":[-83.109191,-83.322791,-83.33922200000001,-83.005129,-82.901067,-82.747713,-82.714851,-82.55602,-82.325988,-82.194542,-81.92617199999999,-81.93712499999999,-81.76186300000001,-81.493493,-81.42777,-81.416816,-81.279893,-81.121061,-81.115584,-80.885553,-81.132015,-81.175831,-81.279893,-81.290846,-81.400385,-81.44420100000001,-81.718048,-81.94807900000001,-82.04118699999999,-82.002849,-82.04666400000001,-82.167157,-82.216449,-83.498053,-84.867289,-85.004212,-85.11375099999999,-85.042551,-85.141136,-85.053504,-85.058981,-84.889196,-85.004212,-84.960397,-85.069935,-85.184951,-85.43141300000001,-85.606675,-84.319594,-83.61854599999999,-83.109191],"lat":[35.00118,34.787579,34.683517,34.469916,34.486347,34.26727,34.152254,33.94413,33.81816,33.631944,33.462159,33.347144,33.160928,33.007573,32.843265,32.629664,32.558464,32.290094,32.120309,32.032678,31.693108,31.517845,31.364491,31.20566,31.13446,30.707258,30.745597,30.827751,30.751074,30.564858,30.362211,30.356734,30.570335,30.647012,30.712735,31.003013,31.27686,31.539753,31.840985,32.01077,32.13674,32.262709,32.322956,32.421541,32.580372,32.859696,34.124869,34.984749,34.990226,34.984749,35.00118]}]],[[{"lng":[-116.04751,-116.04751,-115.724371,-115.718894,-115.527201,-115.324554,-115.302646,-114.930214,-114.886399,-114.623506,-114.612552,-114.322274,-114.464674,-114.492059,-114.387997,-114.568736,-114.497536,-114.546828,-114.333228,-114.086765,-113.98818,-113.807441,-113.834826,-113.736241,-113.571933,-113.45144,-113.456917,-113.341901,-113.133778,-113.002331,-112.887315,-112.783254,-112.471068,-112.241036,-112.104113,-111.868605,-111.819312,-111.616665,-111.386634,-111.227803,-111.047063,-111.047063,-112.164359,-114.04295,-117.027882,-117.027882,-116.896436,-116.97859,-117.170283,-117.241483,-117.038836,-116.934774,-116.830713,-116.847143,-116.732128,-116.671881,-116.463758,-116.545912,-116.78142,-116.918344,-116.92382,-117.055267,-117.038836,-117.044313,-117.033359,-116.04751],"lat":[49.000239,47.976051,47.696727,47.42288,47.302388,47.258572,47.187372,46.919002,46.809463,46.705401,46.639678,46.645155,46.272723,46.037214,45.88386,45.774321,45.670259,45.560721,45.456659,45.593582,45.703121,45.604536,45.522382,45.330689,45.128042,45.056842,44.865149,44.782995,44.772041,44.448902,44.394132,44.48724,44.481763,44.569394,44.520102,44.563917,44.509148,44.547487,44.75561,44.580348,44.476286,42.000709,41.995232,41.995232,42.000709,43.830007,44.158624,44.240778,44.257209,44.394132,44.750133,44.782995,44.930872,45.02398,45.144473,45.319735,45.61549,45.752413,45.823614,45.993399,46.168661,46.343923,46.426077,47.762451,49.000239,49.000239]}]],[[{"lng":[-90.639984,-88.78877799999999,-87.80292900000001,-87.83579,-87.682436,-87.523605,-87.529082,-87.63862,-87.51265100000001,-87.49621999999999,-87.62219,-87.655051,-87.83579,-87.950806,-87.923421,-88.00009799999999,-88.060345,-88.027483,-88.15893,-88.065822,-88.476592,-88.514931,-88.421823,-88.547792,-88.91474700000001,-89.029763,-89.18311799999999,-89.133825,-89.29265599999999,-89.517211,-89.435057,-89.517211,-89.517211,-89.84035,-89.949889,-90.059428,-90.355183,-90.349706,-90.17992099999999,-90.20730500000001,-90.10872000000001,-90.251121,-90.47019899999999,-90.58521399999999,-90.661891,-90.727615,-91.061708,-91.36841699999999,-91.49438600000001,-91.50534,-91.417709,-91.401278,-91.121954,-91.09457,-90.963123,-90.946692,-91.111001,-91.045277,-90.656414,-90.344229,-90.311367,-90.17992099999999,-90.141582,-90.16896699999999,-90.39352100000001,-90.420906,-90.639984],"lat":[42.510065,42.493634,42.493634,42.301941,42.077386,41.710431,39.34987,39.169131,38.95553,38.780268,38.637868,38.506421,38.292821,38.27639,38.15042,38.101128,37.865619,37.799896,37.657496,37.482234,37.389126,37.285064,37.153617,37.071463,37.224817,37.213863,37.038601,36.983832,36.994786,37.279587,37.34531,37.537003,37.690357,37.903958,37.88205,38.013497,38.216144,38.374975,38.632391,38.725499,38.845992,38.917192,38.961007,38.867899,38.928146,39.256762,39.470363,39.727779,40.034488,40.237135,40.379535,40.560274,40.669813,40.823167,40.921752,41.097014,41.239415,41.414677,41.463969,41.589939,41.743293,41.809016,42.000709,42.126679,42.225264,42.329326,42.510065]}]],[[{"lng":[-85.990061,-84.807042,-84.807042,-84.801565,-84.81799599999999,-84.894673,-84.81251899999999,-84.987781,-85.173997,-85.43141300000001,-85.42046000000001,-85.590245,-85.655968,-85.83123000000001,-85.92433800000001,-86.039354,-86.263908,-86.30224699999999,-86.521325,-86.50489399999999,-86.729448,-86.79517199999999,-87.047111,-87.129265,-87.381204,-87.51265100000001,-87.60028200000001,-87.682436,-87.934375,-88.027483,-88.060345,-88.00009799999999,-87.923421,-87.950806,-87.83579,-87.655051,-87.62219,-87.49621999999999,-87.51265100000001,-87.63862,-87.529082,-87.523605,-87.42502,-87.11831100000001,-86.82255600000001,-85.990061],"lat":[41.759724,41.759724,41.694001,40.500028,39.103408,39.059592,38.785745,38.780268,38.68716,38.730976,38.533806,38.451652,38.325682,38.27639,38.024451,37.958727,38.051835,38.166851,38.040881,37.931343,37.893004,37.991589,37.893004,37.788942,37.93682,37.903958,37.975158,37.903958,37.893004,37.799896,37.865619,38.101128,38.15042,38.27639,38.292821,38.506421,38.637868,38.780268,38.95553,39.169131,39.34987,41.710431,41.644708,41.644708,41.759724,41.759724]}]],[[{"lng":[-91.36841699999999,-91.215062,-91.204109,-91.056231,-91.17672399999999,-91.143862,-91.06718499999999,-90.711184,-90.639984,-90.420906,-90.39352100000001,-90.16896699999999,-90.141582,-90.17992099999999,-90.311367,-90.344229,-90.656414,-91.045277,-91.111001,-90.946692,-90.963123,-91.09457,-91.121954,-91.401278,-91.417709,-91.527248,-91.729895,-91.833957,-93.25796099999999,-94.632673,-95.7664,-95.881416,-95.826646,-95.925231,-95.919754,-96.095016,-96.122401,-96.062155,-96.127878,-96.26480100000001,-96.44553999999999,-96.631756,-96.54412499999999,-96.511264,-96.43458699999999,-96.56055600000001,-96.52769499999999,-96.582464,-96.45101699999999,-91.36841699999999],"lat":[43.501391,43.501391,43.353514,43.254929,43.134436,42.909881,42.75105,42.636034,42.510065,42.329326,42.225264,42.126679,42.000709,41.809016,41.743293,41.589939,41.463969,41.414677,41.239415,41.097014,40.921752,40.823167,40.669813,40.560274,40.379535,40.412397,40.615043,40.609566,40.582182,40.571228,40.587659,40.719105,40.976521,41.201076,41.453015,41.540646,41.67757,41.798063,41.973325,42.039048,42.488157,42.707235,42.855112,43.052282,43.123482,43.222067,43.397329,43.479483,43.501391,43.501391]}]],[[{"lng":[-101.90605,-95.306337,-95.207752,-94.884612,-95.109167,-94.983197,-94.824366,-94.610765,-94.616242,-100.087706,-102.042974,-102.053927,-101.90605],"lat":[40.001626,40.001626,39.908518,39.831841,39.541563,39.442978,39.20747,39.158177,37.000263,37.000263,36.994786,40.001626,40.001626]}]],[[{"lng":[-83.903347,-83.678792,-83.519961,-83.14205200000001,-83.03251400000001,-82.890113,-82.846298,-82.73128199999999,-82.594358,-82.621743,-82.50125,-82.34241900000001,-82.293127,-82.101434,-81.969987,-82.353373,-82.72032799999999,-82.72032799999999,-82.868205,-82.879159,-83.070852,-83.13657499999999,-83.673316,-83.689746,-84.544149,-85.289013,-85.486183,-86.59252499999999,-87.852221,-88.071299,-88.054868,-89.29813300000001,-89.418626,-89.363857,-89.215979,-89.133825,-89.18311799999999,-89.029763,-88.91474700000001,-88.547792,-88.421823,-88.514931,-88.476592,-88.065822,-88.15893,-88.027483,-87.934375,-87.682436,-87.60028200000001,-87.51265100000001,-87.381204,-87.129265,-87.047111,-86.79517199999999,-86.729448,-86.50489399999999,-86.521325,-86.30224699999999,-86.263908,-86.039354,-85.92433800000001,-85.83123000000001,-85.655968,-85.590245,-85.42046000000001,-85.43141300000001,-85.173997,-84.987781,-84.81251899999999,-84.894673,-84.81799599999999,-84.43461000000001,-84.23196299999999,-84.21553299999999,-83.903347],"lat":[38.769315,38.632391,38.703591,38.626914,38.725499,38.758361,38.588575,38.561191,38.424267,38.123036,37.931343,37.783465,37.668449,37.553434,37.537003,37.268633,37.120755,37.044078,36.978355,36.890724,36.852385,36.742847,36.600446,36.584015,36.594969,36.627831,36.616877,36.655216,36.633308,36.677123,36.496384,36.507338,36.496384,36.622354,36.578538,36.983832,37.038601,37.213863,37.224817,37.071463,37.153617,37.285064,37.389126,37.482234,37.657496,37.799896,37.893004,37.903958,37.975158,37.903958,37.93682,37.788942,37.893004,37.991589,37.893004,37.931343,38.040881,38.166851,38.051835,37.958727,38.024451,38.27639,38.325682,38.451652,38.533806,38.730976,38.68716,38.780268,38.785745,39.059592,39.103408,39.103408,38.895284,38.807653,38.769315]}]],[[{"lng":[-93.608485,-91.16576999999999,-91.07266199999999,-91.143862,-91.154816,-91.006939,-90.98503100000001,-91.105524,-91.341032,-91.401278,-91.499863,-91.516294,-91.636787,-91.56558699999999,-91.636787,-89.747242,-89.845827,-89.68151899999999,-89.643181,-89.522688,-89.818443,-89.84035,-89.59936500000001,-89.49530300000001,-89.28717899999999,-89.30361000000001,-89.424103,-89.648657,-89.621273,-89.69795000000001,-89.50625700000001,-89.19954799999999,-89.09001000000001,-89.002379,-89.16121,-89.336472,-89.48434899999999,-89.851304,-89.851304,-90.032043,-90.021089,-90.103244,-90.23469,-90.333275,-90.56330699999999,-90.645461,-90.798815,-90.963123,-91.09457,-91.220539,-91.445094,-91.532725,-91.620356,-91.88324900000001,-91.88872600000001,-92.146142,-92.113281,-92.31045,-92.617159,-92.97315999999999,-93.2251,-93.76731700000001,-93.838517,-93.926148,-93.690639,-93.76731700000001,-93.696116,-93.728978,-93.630393,-93.526331,-93.542762,-93.816609,-93.822086,-94.04116399999999,-94.04116399999999,-93.608485],"lat":[33.018527,33.002096,32.887081,32.843265,32.640618,32.514649,32.218894,31.988862,31.846462,31.621907,31.643815,31.27686,31.265906,31.068736,30.997536,30.997536,30.66892,30.449842,30.285534,30.181472,30.044549,29.945964,29.88024,30.039072,29.88024,29.754271,29.699501,29.748794,29.655686,29.513285,29.387316,29.348977,29.2011,29.179192,29.009407,29.042268,29.217531,29.310638,29.480424,29.425654,29.283254,29.151807,29.129899,29.277777,29.283254,29.129899,29.086084,29.179192,29.190146,29.436608,29.546147,29.529716,29.73784,29.710455,29.836425,29.715932,29.622824,29.535193,29.579009,29.715932,29.776178,29.726886,29.688547,29.787132,30.143133,30.334826,30.438888,30.575812,30.679874,30.93729,31.15089,31.556184,31.775262,31.994339,33.018527,33.018527]}]],[[{"lng":[-70.70392099999999,-70.82441300000001,-70.80798299999999,-70.966814,-71.032537,-71.08183,-70.649151,-70.72035200000001,-70.556043,-70.386258,-70.41912000000001,-70.260289,-70.30958099999999,-70.21099599999999,-70.057642,-69.997395,-69.22514700000001,-69.044408,-69.03345400000001,-68.902007,-68.578868,-68.376221,-68.23382100000001,-67.954497,-67.790188,-67.779235,-67.801142,-67.456095,-67.505388,-67.41775699999999,-67.488957,-67.34655600000001,-67.16034000000001,-66.979601,-67.187725,-67.308218,-67.406803,-67.54920300000001,-67.565634,-67.75185,-68.047605,-68.11880499999999,-68.22286699999999,-68.173574,-68.403606,-68.458375,-68.567914,-68.82532999999999,-68.83080699999999,-68.984161,-68.956777,-69.099177,-69.071793,-69.258008,-69.44422400000001,-69.553763,-69.70711799999999,-69.83308700000001,-69.986442,-70.03025700000001,-70.254812,-70.194565,-70.358873,-70.369827,-70.556043,-70.70392099999999],"lat":[43.057759,43.128959,43.227544,43.34256,44.657025,45.303304,45.440228,45.511428,45.664782,45.735983,45.796229,45.889337,46.064599,46.327492,46.415123,46.694447,47.461219,47.428357,47.242141,47.176418,47.285957,47.285957,47.357157,47.198326,47.066879,45.944106,45.675736,45.604536,45.48952,45.379982,45.281397,45.128042,45.160904,44.804903,44.646072,44.706318,44.596779,44.624164,44.531056,44.54201,44.328409,44.476286,44.48724,44.328409,44.251732,44.377701,44.311978,44.311978,44.459856,44.426994,44.322932,44.103854,44.043608,43.923115,43.966931,43.840961,43.82453,43.720469,43.742376,43.851915,43.676653,43.567114,43.528776,43.435668,43.320652,43.057759]}]],[[{"lng":[-75.99464500000001,-76.016553,-76.043938,-75.99464500000001],"lat":[37.95325,37.95325,37.95325,37.95325]}],[{"lng":[-79.477979,-75.78652099999999,-75.69341300000001,-75.047134,-75.244304,-75.397659,-75.67150599999999,-75.88510599999999,-75.87962899999999,-75.961783,-75.846768,-76.000122,-76.049415,-76.257538,-76.328738,-76.263015,-76.257538,-76.19181500000001,-76.27944599999999,-76.16990699999999,-76.000122,-75.972737,-76.098707,-76.104184,-76.36707699999999,-76.443754,-76.460185,-76.55877,-76.514954,-76.38350800000001,-76.399939,-76.317785,-76.3616,-76.591632,-76.920248,-77.018833,-77.205049,-77.27624900000001,-77.128372,-77.040741,-76.909294,-77.035264,-77.117418,-77.248864,-77.456988,-77.456988,-77.56652699999999,-77.719881,-77.834897,-78.004682,-78.17446700000001,-78.26757499999999,-78.431884,-78.47022200000001,-78.76597700000001,-78.96314700000001,-79.094593,-79.291763,-79.488933,-79.477979],"lat":[39.722302,39.722302,38.462606,38.451652,38.029928,38.013497,37.95325,37.909435,38.073743,38.139466,38.210667,38.374975,38.303775,38.320205,38.500944,38.500944,38.736453,38.829561,39.147223,39.333439,39.366301,39.557994,39.536086,39.437501,39.311532,39.196516,38.906238,38.769315,38.539283,38.380452,38.259959,38.139466,38.057312,38.216144,38.292821,38.446175,38.358544,38.479037,38.632391,38.791222,38.895284,38.993869,38.933623,39.026731,39.076023,39.223901,39.306055,39.322485,39.601809,39.601809,39.694917,39.61824,39.623717,39.514178,39.585379,39.437501,39.470363,39.300578,39.20747,39.722302]}]],[[{"lng":[-70.91752099999999,-70.81893599999999,-70.780598,-70.82441300000001,-70.983245,-70.988722,-70.769644,-70.63819700000001,-70.660105,-70.550566,-70.539613,-70.260289,-69.93714900000001,-70.008349,-70.484843,-70.660105,-70.764167,-70.92847500000001,-70.93395200000001,-71.12016800000001,-71.196845,-71.22423000000001,-71.328292,-71.383061,-71.530939,-71.79930899999999,-71.79930899999999,-73.053528,-73.486206,-73.50811400000001,-73.267129,-72.456542,-71.29543,-71.185891,-70.91752099999999],"lat":[42.887974,42.871543,42.696281,42.55388,42.422434,42.269079,42.247172,42.08834,41.962371,41.929509,41.814493,41.715908,41.809016,41.672093,41.5516,41.546123,41.639231,41.611847,41.540646,41.496831,41.67757,41.710431,41.781632,42.01714,42.01714,42.006186,42.022617,42.039048,42.050002,42.08834,42.745573,42.729142,42.696281,42.789389,42.887974]}]],[[{"lng":[-83.454238,-84.807042,-84.807042,-85.990061,-86.82255600000001,-86.61990900000001,-86.482986,-86.357016,-86.263908,-86.20913899999999,-86.231047,-86.52680100000001,-86.43369300000001,-86.49941699999999,-86.269385,-86.22009300000001,-86.252954,-86.088646,-86.066738,-85.80932199999999,-85.61215199999999,-85.62858300000001,-85.52452099999999,-85.393075,-85.387598,-85.30544399999999,-85.031597,-85.11922800000001,-84.938489,-84.71393399999999,-84.461995,-84.21553299999999,-84.09504,-83.908824,-83.596638,-83.4871,-83.317314,-83.454238,-83.322791,-83.273499,-83.33374499999999,-83.53639200000001,-83.585684,-83.82666999999999,-83.958116,-83.908824,-83.667839,-83.481623,-83.262545,-82.91749799999999,-82.747713,-82.64365100000001,-82.53958900000001,-82.523158,-82.413619,-82.517681,-82.681989,-82.687466,-82.797005,-82.92297499999999,-83.125621,-83.185868,-83.43780700000001,-83.454238],"lat":[41.732339,41.694001,41.759724,41.759724,41.759724,41.891171,42.115725,42.252649,42.444341,42.718189,43.013943,43.594499,43.813577,44.07647,44.34484,44.569394,44.689887,44.73918,44.903488,44.947303,45.128042,44.766564,44.750133,44.930872,45.237581,45.314258,45.363551,45.577151,45.75789,45.768844,45.653829,45.637398,45.494997,45.484043,45.352597,45.358074,45.144473,45.029457,44.88158,44.711795,44.339363,44.246255,44.054562,43.988839,43.758807,43.671176,43.589022,43.714992,43.972408,44.070993,43.994316,43.851915,43.435668,43.227544,42.975605,42.614127,42.559357,42.690804,42.652465,42.351234,42.236218,42.006186,41.814493,41.732339]}],[{"lng":[-85.50809099999999,-85.49166,-85.62310600000001,-85.568337,-85.50809099999999],"lat":[45.730506,45.610013,45.588105,45.75789,45.730506]}],[{"lng":[-87.58932799999999,-87.742682,-87.649574,-87.88508299999999,-87.79197499999999,-87.781021,-87.98914499999999,-88.10415999999999,-88.531362,-88.662808,-89.09001000000001,-90.119674,-90.229213,-90.415429,-90.026566,-89.851304,-89.413149,-89.128348,-88.99690200000001,-88.88736299999999,-88.575177,-88.416346,-88.180837,-87.956283,-88.350623,-88.443731,-88.438254,-88.246561,-87.90151299999999,-87.633143,-87.39215799999999,-87.260711,-87.00877199999999,-86.948526,-86.69658699999999,-86.159846,-85.880522,-85.50809099999999,-85.256151,-85.064458,-85.02612000000001,-84.82895000000001,-84.63178000000001,-84.549626,-84.41817899999999,-84.12790200000001,-84.12242500000001,-83.990978,-83.793808,-83.7719,-83.580208,-83.476146,-83.563777,-84.11147099999999,-84.374364,-84.659165,-84.741319,-84.70298,-84.82895000000001,-85.01516599999999,-85.33830500000001,-85.50261399999999,-85.661445,-85.92433800000001,-86.20913899999999,-86.324155,-86.351539,-86.663725,-86.647294,-86.784218,-86.838987,-87.069019,-87.17308,-87.326435,-87.61123600000001,-87.58932799999999],"lat":[45.095181,45.199243,45.341643,45.363551,45.500474,45.675736,45.796229,45.922199,46.020784,45.987922,46.135799,46.338446,46.508231,46.568478,46.672539,46.793032,46.842325,46.990202,46.995679,47.099741,47.247618,47.373588,47.455742,47.384542,47.077833,46.973771,46.787555,46.929956,46.908048,46.809463,46.535616,46.486323,46.530139,46.469893,46.437031,46.667063,46.68897,46.678016,46.754694,46.760171,46.480847,46.442508,46.486323,46.4206,46.502754,46.530139,46.179615,46.031737,45.993399,46.091984,46.091984,45.987922,45.911245,45.976968,45.933153,46.053645,45.944106,45.850998,45.872906,46.00983,46.091984,46.097461,45.966014,45.933153,45.960537,45.905768,45.796229,45.703121,45.834568,45.861952,45.725029,45.719552,45.659305,45.423797,45.122565,45.095181]}],[{"lng":[-88.805209,-89.057148,-89.18859399999999,-89.17764099999999,-88.547792,-88.668285,-88.805209],"lat":[47.976051,47.850082,47.833651,47.937713,48.173221,48.008913,47.976051]}]],[[{"lng":[-92.014696,-92.091373,-92.29402,-92.29402,-92.354266,-92.639067,-92.86909799999999,-92.88552900000001,-92.77051299999999,-92.644544,-92.75955999999999,-92.737652,-92.808852,-92.545959,-92.337835,-92.233773,-91.927065,-91.87777199999999,-91.59297100000001,-91.43414,-91.242447,-91.26983199999999,-91.215062,-91.36841699999999,-96.45101699999999,-96.45101699999999,-96.681049,-96.85631100000001,-96.582464,-96.56055600000001,-96.598895,-96.719387,-96.801542,-96.785111,-96.823449,-96.85631100000001,-97.053481,-97.13015799999999,-97.16302,-97.097296,-97.22874299999999,-95.15298300000001,-95.15298300000001,-94.95581300000001,-94.824366,-94.69292,-94.588858,-94.26024099999999,-94.221903,-93.838517,-93.794701,-93.46608500000001,-93.46608500000001,-93.208669,-92.98411400000001,-92.726698,-92.65549799999999,-92.50762,-92.37069700000001,-92.304974,-92.053034,-92.009219,-91.713464,-91.713464,-91.56558699999999,-91.26435499999999,-91.08361600000001,-90.837154,-90.749522,-90.57973699999999,-90.37709099999999,-90.141582,-89.873212,-89.615796,-89.637704,-89.971797,-90.437337,-90.738569,-91.17124699999999,-91.357463,-91.642264,-92.091373,-92.014696],"lat":[46.705401,46.749217,46.667063,46.075553,46.015307,45.933153,45.719552,45.577151,45.566198,45.440228,45.286874,45.117088,44.750133,44.569394,44.552964,44.443425,44.333886,44.202439,44.032654,43.994316,43.775238,43.616407,43.501391,43.501391,43.501391,45.297827,45.412843,45.604536,45.818137,45.933153,46.332969,46.437031,46.656109,46.924479,46.968294,47.609096,47.948667,48.140359,48.545653,48.682577,49.000239,49.000239,49.383625,49.372671,49.295994,48.775685,48.715438,48.699007,48.649715,48.627807,48.518268,48.545653,48.589469,48.644238,48.62233,48.540176,48.436114,48.447068,48.222514,48.315622,48.359437,48.266329,48.200606,48.112975,48.041775,48.080113,48.178698,48.238944,48.091067,48.123929,48.091067,48.112975,47.987005,48.008913,47.954144,47.828174,47.729589,47.625527,47.368111,47.20928,47.028541,46.787555,46.705401]}]],[[{"lng":[-88.471115,-88.20274499999999,-88.09868299999999,-88.241084,-88.471115,-88.39443799999999,-88.50397700000001,-88.744962,-88.843547,-89.08453299999999,-89.418626,-89.522688,-89.643181,-89.68151899999999,-89.845827,-89.747242,-91.636787,-91.56558699999999,-91.636787,-91.516294,-91.499863,-91.401278,-91.341032,-91.105524,-90.98503100000001,-91.006939,-91.154816,-91.143862,-91.07266199999999,-91.16576999999999,-91.08909300000001,-91.143862,-91.056231,-91.231493,-91.07266199999999,-90.89192300000001,-90.952169,-90.744046,-90.749522,-90.568783,-90.58521399999999,-90.48115199999999,-90.409952,-90.251121,-90.311367,-88.471115],"lat":[34.995703,34.995703,34.891641,33.796253,31.895754,30.367688,30.323872,30.34578,30.411504,30.367688,30.252672,30.181472,30.285534,30.449842,30.66892,30.997536,30.997536,31.068736,31.265906,31.27686,31.643815,31.621907,31.846462,31.988862,32.218894,32.514649,32.640618,32.843265,32.887081,33.002096,33.13902,33.347144,33.429298,33.560744,33.867453,34.026284,34.135823,34.300131,34.365854,34.420624,34.617794,34.661609,34.831394,34.908072,34.995703,34.995703]}]],[[{"lng":[-91.833957,-91.729895,-91.527248,-91.417709,-91.50534,-91.49438600000001,-91.36841699999999,-91.061708,-90.727615,-90.661891,-90.58521399999999,-90.47019899999999,-90.251121,-90.10872000000001,-90.20730500000001,-90.17992099999999,-90.349706,-90.355183,-90.059428,-89.949889,-89.84035,-89.517211,-89.517211,-89.435057,-89.517211,-89.29265599999999,-89.133825,-89.215979,-89.363857,-89.418626,-89.48434899999999,-89.539119,-89.533642,-89.730812,-90.37709099999999,-90.218259,-90.064905,-90.152536,-94.473842,-94.616242,-94.616242,-94.610765,-94.824366,-94.983197,-95.109167,-94.884612,-95.207752,-95.306337,-95.55279899999999,-95.7664,-94.632673,-93.25796099999999,-91.833957],"lat":[40.609566,40.615043,40.412397,40.379535,40.237135,40.034488,39.727779,39.470363,39.256762,38.928146,38.867899,38.961007,38.917192,38.845992,38.725499,38.632391,38.374975,38.216144,38.013497,37.88205,37.903958,37.690357,37.537003,37.34531,37.279587,36.994786,36.983832,36.578538,36.622354,36.496384,36.496384,36.496384,36.249922,35.997983,35.997983,36.184199,36.304691,36.496384,36.501861,36.501861,37.000263,39.158177,39.20747,39.442978,39.541563,39.831841,39.908518,40.001626,40.264519,40.587659,40.571228,40.582182,40.609566]}]],[[{"lng":[-104.047534,-104.042057,-104.047534,-104.042057,-104.058488,-105.91517,-109.080842,-111.05254,-111.047063,-111.227803,-111.386634,-111.616665,-111.819312,-111.868605,-112.104113,-112.241036,-112.471068,-112.783254,-112.887315,-113.002331,-113.133778,-113.341901,-113.456917,-113.45144,-113.571933,-113.736241,-113.834826,-113.807441,-113.98818,-114.086765,-114.333228,-114.546828,-114.497536,-114.568736,-114.387997,-114.492059,-114.464674,-114.322274,-114.612552,-114.623506,-114.886399,-114.930214,-115.302646,-115.324554,-115.527201,-115.718894,-115.724371,-116.04751,-116.04751,-111.50165,-109.453274,-104.047534],"lat":[49.000239,47.861036,45.944106,44.996596,44.996596,45.002073,45.002073,45.002073,44.476286,44.580348,44.75561,44.547487,44.509148,44.563917,44.520102,44.569394,44.481763,44.48724,44.394132,44.448902,44.772041,44.782995,44.865149,45.056842,45.128042,45.330689,45.522382,45.604536,45.703121,45.593582,45.456659,45.560721,45.670259,45.774321,45.88386,46.037214,46.272723,46.645155,46.639678,46.705401,46.809463,46.919002,47.187372,47.258572,47.302388,47.42288,47.696727,47.976051,49.000239,48.994762,49.000239,49.000239]}]],[[{"lng":[-103.324578,-101.626726,-98.499393,-98.466531,-97.951699,-97.83120599999999,-97.688806,-97.217789,-96.692003,-96.626279,-96.44553999999999,-96.26480100000001,-96.127878,-96.062155,-96.122401,-96.095016,-95.919754,-95.925231,-95.826646,-95.881416,-95.7664,-95.55279899999999,-95.306337,-101.90605,-102.053927,-102.053927,-104.053011,-104.053011,-103.324578],"lat":[43.002989,42.997512,42.997512,42.94822,42.767481,42.866066,42.844158,42.844158,42.657942,42.515542,42.488157,42.039048,41.973325,41.798063,41.67757,41.540646,41.453015,41.201076,40.976521,40.719105,40.587659,40.264519,40.001626,40.001626,40.001626,41.003906,41.003906,43.002989,43.002989]}]],[[{"lng":[-117.027882,-114.04295,-114.048427,-114.048427,-114.152489,-114.251074,-114.371566,-114.738521,-114.678275,-114.596121,-114.574213,-114.634459,-115.85034,-116.540435,-117.498899,-118.71478,-120.001861,-119.996384,-120.001861,-118.698349,-117.027882],"lat":[42.000709,41.995232,37.000263,36.195153,36.025367,36.01989,36.140383,36.102045,35.516012,35.324319,35.138103,35.00118,35.970598,36.501861,37.21934,38.101128,38.999346,40.264519,41.995232,41.989755,42.000709]}]],[[{"lng":[-71.08183,-71.032537,-70.966814,-70.80798299999999,-70.82441300000001,-70.70392099999999,-70.81893599999999,-70.91752099999999,-71.185891,-71.29543,-72.456542,-72.544173,-72.533219,-72.445588,-72.456542,-72.379864,-72.20460199999999,-72.11697100000001,-72.02934,-72.034817,-71.70072399999999,-71.536416,-71.629524,-71.4926,-71.50355399999999,-71.361154,-71.131122,-71.08183],"lat":[45.303304,44.657025,43.34256,43.227544,43.128959,43.057759,42.871543,42.887974,42.789389,42.696281,42.729142,42.80582,42.953697,43.008466,43.150867,43.572591,43.769761,43.994316,44.07647,44.322932,44.41604,44.585825,44.750133,44.914442,45.013027,45.270443,45.243058,45.303304]}]],[[{"lng":[-74.236547,-73.90245400000001,-74.022947,-74.18725499999999,-74.274886,-74.00103900000001,-73.979131,-74.09962400000001,-74.41180900000001,-74.614456,-74.79519500000001,-74.88830299999999,-75.17858099999999,-75.534582,-75.55649,-75.561967,-75.50719700000001,-75.414089,-75.145719,-75.129289,-74.82258,-74.773287,-75.058088,-75.069042,-75.19501200000001,-75.205966,-75.052611,-75.134765,-74.88282599999999,-74.828057,-74.69661000000001,-74.236547],"lat":[41.14083,40.998429,40.708151,40.642428,40.489074,40.412397,40.297381,39.760641,39.360824,39.245808,38.993869,39.158177,39.240331,39.459409,39.607286,39.629194,39.683964,39.804456,39.88661,39.963288,40.127596,40.215227,40.417874,40.543843,40.576705,40.691721,40.866983,40.971045,41.179168,41.288707,41.359907,41.14083]}]],[[{"lng":[-107.421329,-106.868158,-104.337812,-103.001438,-103.001438,-103.039777,-103.045254,-103.067161,-103.067161,-106.616219,-106.643603,-106.528588,-108.210008,-108.210008,-109.04798,-109.042503,-107.421329],"lat":[37.000263,36.994786,36.994786,37.000263,36.501861,36.501861,34.01533,33.002096,31.999816,31.999816,31.901231,31.786216,31.786216,31.331629,31.331629,37.000263,37.000263]}]],[[{"lng":[-73.343806,-73.332852,-73.38762199999999,-73.29451400000001,-73.321898,-73.436914,-73.349283,-73.40405199999999,-73.245221,-73.278083,-73.267129,-73.50811400000001,-73.486206,-73.55193,-73.48072999999999,-73.727192,-73.655992,-73.22879,-73.141159,-72.774204,-72.587988,-72.28128,-72.259372,-72.10054100000001,-72.467496,-73.239744,-73.562884,-73.776484,-73.935316,-74.022947,-73.90245400000001,-74.236547,-74.69661000000001,-74.740426,-74.89378000000001,-75.074519,-75.052611,-75.173104,-75.249781,-75.35932,-79.76278000000001,-79.76278000000001,-79.76278000000001,-79.14936299999999,-79.05077799999999,-78.85360799999999,-78.930285,-79.012439,-79.072686,-78.486653,-77.96634400000001,-77.75821999999999,-77.533665,-77.391265,-76.95858699999999,-76.69569300000001,-76.41637,-76.235631,-76.230154,-76.137046,-76.3616,-76.312308,-75.912491,-75.76461399999999,-75.28264299999999,-74.828057,-74.148916,-73.343806],"lat":[45.013027,44.804903,44.618687,44.437948,44.246255,44.043608,43.769761,43.687607,43.523299,42.833204,42.745573,42.08834,42.050002,41.294184,41.21203,41.102491,40.987475,40.905321,40.965568,40.965568,40.998429,41.157261,41.042245,40.992952,40.845075,40.625997,40.582182,40.593136,40.543843,40.708151,40.998429,41.14083,41.359907,41.431108,41.436584,41.60637,41.754247,41.869263,41.863786,42.000709,42.000709,42.252649,42.269079,42.55388,42.690804,42.783912,42.953697,42.986559,43.260406,43.375421,43.369944,43.34256,43.233021,43.276836,43.271359,43.34256,43.523299,43.528776,43.802623,43.961454,44.070993,44.196962,44.366748,44.514625,44.848718,45.018503,44.991119,45.013027]}]],[[{"lng":[-80.978661,-80.294043,-79.510841,-75.86867599999999,-75.75366,-76.032984,-76.071322,-76.410893,-76.460185,-76.68474000000001,-76.67378600000001,-76.399939,-76.3616,-76.060368,-75.961783,-75.78104399999999,-75.715321,-75.77556800000001,-75.89606000000001,-76.147999,-76.48209300000001,-76.536862,-76.394462,-76.27944599999999,-76.493047,-76.67378600000001,-76.99144800000001,-77.210526,-77.555573,-77.82942,-77.97182100000001,-78.17994400000001,-78.541422,-79.675149,-80.797922,-80.781491,-80.934845,-81.03890699999999,-81.04438399999999,-82.276696,-82.550543,-82.764143,-83.109191,-83.61854599999999,-84.319594,-84.29221,-84.09504,-84.01836299999999,-83.7719,-83.498053,-83.251591,-82.994175,-82.775097,-82.63817400000001,-82.610789,-82.216449,-82.03570999999999,-81.909741,-81.723525,-81.679709,-80.978661],"lat":[36.562108,36.545677,36.5402,36.551154,36.151337,36.189676,36.140383,36.080137,36.025367,36.008937,35.937736,35.987029,35.943213,35.992506,35.899398,35.937736,35.696751,35.581735,35.570781,35.324319,35.313365,35.14358,34.973795,34.940933,34.661609,34.694471,34.667086,34.60684,34.415147,34.163208,33.845545,33.916745,33.851022,34.80401,34.820441,34.935456,35.105241,35.044995,35.149057,35.198349,35.160011,35.066903,35.00118,34.984749,34.990226,35.225734,35.247642,35.41195,35.559827,35.565304,35.718659,35.773428,35.997983,36.063706,35.965121,36.156814,36.118475,36.304691,36.353984,36.589492,36.562108]}]],[[{"lng":[-97.22874299999999,-97.097296,-97.16302,-97.13015799999999,-97.053481,-96.85631100000001,-96.823449,-96.785111,-96.801542,-96.719387,-96.598895,-96.56055600000001,-104.047534,-104.042057,-104.047534,-97.22874299999999],"lat":[49.000239,48.682577,48.545653,48.140359,47.948667,47.609096,46.968294,46.924479,46.656109,46.437031,46.332969,45.933153,45.944106,47.861036,49.000239,49.000239]}]],[[{"lng":[-80.518598,-80.518598,-80.66647500000001,-80.595275,-80.600752,-80.737675,-80.830783,-81.219646,-81.34561600000001,-81.455155,-81.57017,-81.685186,-81.811156,-81.783771,-81.887833,-82.03570999999999,-82.221926,-82.172634,-82.293127,-82.33146499999999,-82.594358,-82.73128199999999,-82.846298,-82.890113,-83.03251400000001,-83.14205200000001,-83.519961,-83.678792,-83.903347,-84.21553299999999,-84.23196299999999,-84.43461000000001,-84.81799599999999,-84.801565,-84.807042,-83.454238,-83.065375,-82.93392900000001,-82.83534400000001,-82.616266,-82.479343,-82.013803,-81.73995600000001,-81.44420100000001,-81.011523,-80.518598,-80.518598],"lat":[41.978802,40.636951,40.582182,40.472643,40.319289,40.078303,39.711348,39.388209,39.344393,39.410117,39.267716,39.273193,39.0815,38.966484,38.873376,39.026731,38.785745,38.632391,38.577622,38.446175,38.424267,38.561191,38.588575,38.758361,38.725499,38.626914,38.703591,38.632391,38.769315,38.807653,38.895284,39.103408,39.103408,40.500028,41.694001,41.732339,41.595416,41.513262,41.589939,41.431108,41.381815,41.513262,41.485877,41.672093,41.852832,41.978802,41.978802]}]],[[{"lng":[-100.087706,-94.616242,-94.616242,-94.430026,-94.484796,-94.868182,-94.966767,-95.224183,-95.289906,-95.54732199999999,-95.602092,-95.83759999999999,-95.93618499999999,-96.14978600000001,-96.34695600000001,-96.423633,-96.631756,-96.85083400000001,-96.922034,-97.173974,-97.256128,-97.371143,-97.45877400000001,-97.694283,-97.869545,-97.94622200000001,-98.088623,-98.170777,-98.36247,-98.488439,-98.570593,-98.767763,-98.986841,-99.189488,-99.260688,-99.57835,-99.698843,-99.92339800000001,-100.000075,-100.000075,-101.812942,-103.001438,-103.001438,-102.042974,-100.087706],"lat":[37.000263,37.000263,36.501861,35.395519,33.637421,33.74696,33.861976,33.960561,33.87293,33.878407,33.933176,33.834591,33.889361,33.840068,33.686714,33.774345,33.845545,33.845545,33.960561,33.736006,33.861976,33.823637,33.905791,33.982469,33.851022,33.987946,34.004376,34.113915,34.157731,34.064623,34.146777,34.135823,34.223454,34.2125,34.404193,34.415147,34.382285,34.573978,34.563024,36.501861,36.501861,36.501861,37.000263,36.994786,37.000263]}]],[[{"lng":[-123.211348,-123.11824,-122.904639,-122.811531,-122.762239,-122.247407,-121.809251,-121.535404,-121.217742,-121.18488,-120.637186,-120.505739,-120.209985,-119.963522,-119.525367,-119.125551,-118.988627,-116.918344,-116.78142,-116.545912,-116.463758,-116.671881,-116.732128,-116.847143,-116.830713,-116.934774,-117.038836,-117.241483,-117.170283,-116.97859,-116.896436,-117.027882,-117.027882,-118.698349,-120.001861,-121.037003,-122.378853,-123.233256,-124.213628,-124.356029,-124.432706,-124.416275,-124.553198,-124.454613,-124.383413,-124.235536,-124.169813,-124.060274,-124.076705,-123.97812,-123.939781,-123.994551,-123.945258,-123.545441,-123.370179,-123.211348],"lat":[46.174138,46.185092,46.08103,45.960537,45.659305,45.549767,45.708598,45.725029,45.670259,45.604536,45.746937,45.697644,45.725029,45.823614,45.911245,45.933153,45.998876,45.993399,45.823614,45.752413,45.61549,45.319735,45.144473,45.02398,44.930872,44.782995,44.750133,44.394132,44.257209,44.240778,44.158624,43.830007,42.000709,41.989755,41.995232,41.995232,42.011663,42.006186,42.000709,42.115725,42.438865,42.663419,42.838681,43.002989,43.271359,43.55616,43.8081,44.657025,44.772041,45.144473,45.659305,45.944106,46.113892,46.261769,46.146753,46.174138]}]],[[{"lng":[-79.76278000000001,-79.76278000000001,-75.35932,-75.249781,-75.173104,-75.052611,-75.074519,-74.89378000000001,-74.740426,-74.69661000000001,-74.828057,-74.88282599999999,-75.134765,-75.052611,-75.205966,-75.19501200000001,-75.069042,-75.058088,-74.773287,-74.82258,-75.129289,-75.145719,-75.414089,-75.616736,-75.78652099999999,-79.477979,-80.518598,-80.518598,-80.518598,-80.518598,-80.332382,-79.76278000000001,-79.76278000000001],"lat":[42.252649,42.000709,42.000709,41.863786,41.869263,41.754247,41.60637,41.436584,41.431108,41.359907,41.288707,41.179168,40.971045,40.866983,40.691721,40.576705,40.543843,40.417874,40.215227,40.127596,39.963288,39.88661,39.804456,39.831841,39.722302,39.722302,39.722302,40.636951,41.978802,41.978802,42.033571,42.269079,42.252649]}]],[[{"lng":[-71.196845,-71.12016800000001,-71.31733800000001,-71.196845],"lat":[41.67757,41.496831,41.474923,41.67757]}],[{"lng":[-71.530939,-71.383061,-71.328292,-71.22423000000001,-71.344723,-71.448785,-71.481646,-71.859555,-71.79930899999999,-71.79930899999999,-71.530939],"lat":[42.01714,42.01714,41.781632,41.710431,41.726862,41.578985,41.370861,41.321569,41.414677,42.006186,42.01714]}]],[[{"lng":[-82.764143,-82.550543,-82.276696,-81.04438399999999,-81.03890699999999,-80.934845,-80.781491,-80.797922,-79.675149,-78.541422,-78.716684,-78.935762,-79.14936299999999,-79.187701,-79.35748700000001,-79.582041,-79.631334,-79.86684200000001,-79.998289,-80.206412,-80.430967,-80.45287500000001,-80.66099800000001,-80.885553,-81.115584,-81.121061,-81.279893,-81.416816,-81.42777,-81.493493,-81.76186300000001,-81.93712499999999,-81.92617199999999,-82.194542,-82.325988,-82.55602,-82.714851,-82.747713,-82.901067,-83.005129,-83.33922200000001,-83.322791,-83.109191,-82.764143],"lat":[35.066903,35.160011,35.198349,35.149057,35.044995,35.105241,34.935456,34.820441,34.80401,33.851022,33.80173,33.637421,33.380005,33.171881,33.007573,33.007573,32.887081,32.755634,32.613234,32.552987,32.399633,32.328433,32.246279,32.032678,32.120309,32.290094,32.558464,32.629664,32.843265,33.007573,33.160928,33.347144,33.462159,33.631944,33.81816,33.94413,34.152254,34.26727,34.486347,34.469916,34.683517,34.787579,35.00118,35.066903]}]],[[{"lng":[-104.047534,-96.56055600000001,-96.582464,-96.85631100000001,-96.681049,-96.45101699999999,-96.45101699999999,-96.582464,-96.52769499999999,-96.56055600000001,-96.43458699999999,-96.511264,-96.54412499999999,-96.631756,-96.44553999999999,-96.626279,-96.692003,-97.217789,-97.688806,-97.83120599999999,-97.951699,-98.466531,-98.499393,-101.626726,-103.324578,-104.053011,-104.058488,-104.042057,-104.047534],"lat":[45.944106,45.933153,45.818137,45.604536,45.412843,45.297827,43.501391,43.479483,43.397329,43.222067,43.123482,43.052282,42.855112,42.707235,42.488157,42.515542,42.657942,42.844158,42.844158,42.866066,42.767481,42.94822,42.997512,42.997512,43.002989,43.002989,44.996596,44.996596,45.944106]}]],[[{"lng":[-88.054868,-88.071299,-87.852221,-86.59252499999999,-85.486183,-85.289013,-84.544149,-83.689746,-83.673316,-81.679709,-81.723525,-81.909741,-82.03570999999999,-82.216449,-82.610789,-82.63817400000001,-82.775097,-82.994175,-83.251591,-83.498053,-83.7719,-84.01836299999999,-84.09504,-84.29221,-84.319594,-85.606675,-87.359296,-88.20274499999999,-88.471115,-90.311367,-90.212782,-90.114197,-90.130628,-89.944412,-89.911551,-89.763673,-89.730812,-89.533642,-89.539119,-89.48434899999999,-89.418626,-89.29813300000001,-88.054868],"lat":[36.496384,36.677123,36.633308,36.655216,36.616877,36.627831,36.594969,36.584015,36.600446,36.589492,36.353984,36.304691,36.118475,36.156814,35.965121,36.063706,35.997983,35.773428,35.718659,35.565304,35.559827,35.41195,35.247642,35.225734,34.990226,34.984749,35.00118,34.995703,34.995703,34.995703,35.023087,35.198349,35.439335,35.603643,35.756997,35.811767,35.997983,36.249922,36.496384,36.496384,36.496384,36.507338,36.496384]}]],[[{"lng":[-101.812942,-100.000075,-100.000075,-99.92339800000001,-99.698843,-99.57835,-99.260688,-99.189488,-98.986841,-98.767763,-98.570593,-98.488439,-98.36247,-98.170777,-98.088623,-97.94622200000001,-97.869545,-97.694283,-97.45877400000001,-97.371143,-97.256128,-97.173974,-96.922034,-96.85083400000001,-96.631756,-96.423633,-96.34695600000001,-96.14978600000001,-95.93618499999999,-95.83759999999999,-95.602092,-95.54732199999999,-95.289906,-95.224183,-94.966767,-94.868182,-94.484796,-94.380734,-94.183564,-94.04116399999999,-94.04116399999999,-94.04116399999999,-93.822086,-93.816609,-93.542762,-93.526331,-93.630393,-93.728978,-93.696116,-93.76731700000001,-93.690639,-93.926148,-93.838517,-94.002825,-94.523134,-94.70935,-94.74221199999999,-94.873659,-94.966767,-95.016059,-94.911997,-94.895566,-95.081782,-95.383014,-95.985477,-96.04572400000001,-96.226463,-96.23193999999999,-96.478402,-96.593418,-96.664618,-96.401725,-96.593418,-96.774157,-96.801542,-97.026096,-97.256128,-97.404005,-97.513544,-97.54092900000001,-97.42591299999999,-97.480682,-97.55735900000001,-97.562836,-97.469728,-97.44234400000001,-97.33280499999999,-97.30542,-97.217789,-97.52449799999999,-97.65046700000001,-97.885976,-98.198161,-98.466531,-98.669178,-98.82253300000001,-99.03065599999999,-99.173057,-99.266165,-99.446904,-99.42499599999999,-99.50715,-99.479765,-99.605735,-99.70979699999999,-99.879582,-99.93435100000001,-100.082229,-100.29583,-100.399891,-100.498476,-100.629923,-100.673738,-100.799708,-101.013309,-101.062601,-101.259771,-101.413125,-101.851281,-102.114174,-102.338728,-102.388021,-102.629006,-102.809745,-102.919284,-102.97953,-103.116454,-103.280762,-103.527224,-104.146119,-104.266611,-104.507597,-104.677382,-104.688336,-104.858121,-104.896459,-105.005998,-105.394861,-105.602985,-105.77277,-105.953509,-106.205448,-106.38071,-106.528588,-106.643603,-106.616219,-103.067161,-103.067161,-103.045254,-103.039777,-103.001438,-101.812942],"lat":[36.501861,36.501861,34.563024,34.573978,34.382285,34.415147,34.404193,34.2125,34.223454,34.135823,34.146777,34.064623,34.157731,34.113915,34.004376,33.987946,33.851022,33.982469,33.905791,33.823637,33.861976,33.736006,33.960561,33.845545,33.845545,33.774345,33.686714,33.840068,33.889361,33.834591,33.933176,33.878407,33.87293,33.960561,33.861976,33.74696,33.637421,33.544313,33.593606,33.54979,33.018527,31.994339,31.775262,31.556184,31.15089,30.93729,30.679874,30.575812,30.438888,30.334826,30.143133,29.787132,29.688547,29.68307,29.546147,29.622824,29.787132,29.672117,29.699501,29.557101,29.496854,29.310638,29.113469,28.867006,28.604113,28.647929,28.582205,28.642452,28.598636,28.724606,28.697221,28.439805,28.357651,28.406943,28.226204,28.039988,27.694941,27.333463,27.360848,27.229401,27.262263,26.99937,26.988416,26.840538,26.758384,26.457153,26.353091,26.161398,25.991613,25.887551,26.018997,26.06829,26.057336,26.221644,26.238075,26.369522,26.413337,26.539307,26.840538,27.021277,27.174632,27.33894,27.48134,27.640172,27.656603,27.799003,27.979742,28.14405,28.280974,28.582205,28.66436,28.905345,29.102515,29.244915,29.370885,29.458516,29.535193,29.754271,29.803563,29.792609,29.869286,29.765225,29.732363,29.524239,29.190146,29.184669,28.987499,28.982022,29.135376,29.381839,29.513285,29.639255,29.924056,30.181472,30.389596,30.570335,30.685351,30.855136,31.085167,31.167321,31.364491,31.468553,31.731446,31.786216,31.901231,31.999816,31.999816,33.002096,34.01533,36.501861,36.501861,36.501861]}]],[[{"lng":[-112.164359,-111.047063,-111.047063,-109.04798,-109.053457,-109.058934,-109.042503,-109.042503,-110.499369,-114.048427,-114.04295,-112.164359],"lat":[41.995232,42.000709,40.998429,40.998429,39.125316,38.27639,38.166851,37.000263,37.00574,37.000263,41.995232,41.995232]}]],[[{"lng":[-71.50355399999999,-71.4926,-71.629524,-71.536416,-71.70072399999999,-72.034817,-72.02934,-72.11697100000001,-72.20460199999999,-72.379864,-72.456542,-72.445588,-72.533219,-72.544173,-72.456542,-73.267129,-73.278083,-73.245221,-73.40405199999999,-73.349283,-73.436914,-73.321898,-73.29451400000001,-73.38762199999999,-73.332852,-73.343806,-72.30866399999999,-71.50355399999999],"lat":[45.013027,44.914442,44.750133,44.585825,44.41604,44.322932,44.07647,43.994316,43.769761,43.572591,43.150867,43.008466,42.953697,42.80582,42.729142,42.745573,42.833204,43.523299,43.687607,43.769761,44.043608,44.246255,44.437948,44.618687,44.804903,45.013027,45.002073,45.013027]}]],[[{"lng":[-75.397659,-75.244304,-75.37575099999999,-75.512674,-75.59482800000001,-75.802952,-75.972737,-76.027507,-75.939876,-75.67150599999999,-75.397659],"lat":[38.013497,38.029928,37.860142,37.799896,37.569865,37.197433,37.120755,37.257679,37.564388,37.95325,38.013497]}],[{"lng":[-76.016553,-75.99464500000001,-76.043938,-76.016553],"lat":[37.95325,37.95325,37.95325,37.95325]}],[{"lng":[-78.349729,-77.82942,-77.719881,-77.56652699999999,-77.456988,-77.456988,-77.248864,-77.117418,-77.040741,-77.128372,-77.248864,-77.325542,-77.28172600000001,-77.013356,-76.96406399999999,-76.613539,-76.514954,-76.235631,-76.3616,-76.246584,-76.38350800000001,-76.399939,-76.27396899999999,-76.410893,-76.619016,-76.66830899999999,-76.48757000000001,-75.99464500000001,-75.86867599999999,-79.510841,-80.294043,-80.978661,-81.679709,-83.673316,-83.13657499999999,-83.070852,-82.879159,-82.868205,-82.72032799999999,-82.72032799999999,-82.353373,-81.969987,-81.986418,-81.84949400000001,-81.679709,-81.55374,-81.362047,-81.225123,-80.967707,-80.513121,-80.474782,-80.29952,-80.294043,-80.184505,-79.998289,-79.921611,-79.724442,-79.647764,-79.477979,-79.313671,-79.209609,-78.996008,-78.87003900000001,-78.404499,-78.349729],"lat":[39.464886,39.130793,39.322485,39.306055,39.223901,39.076023,39.026731,38.933623,38.791222,38.632391,38.588575,38.446175,38.342113,38.374975,38.216144,38.15042,38.024451,37.887527,37.608203,37.389126,37.285064,37.159094,37.082417,36.961924,37.120755,37.065986,36.95097,36.923586,36.551154,36.5402,36.545677,36.562108,36.589492,36.600446,36.742847,36.852385,36.890724,36.978355,37.044078,37.120755,37.268633,37.537003,37.454849,37.285064,37.20291,37.208387,37.339833,37.235771,37.290541,37.482234,37.421987,37.509618,37.690357,37.849189,37.997066,38.177805,38.364021,38.594052,38.457129,38.413313,38.495467,38.851469,38.763838,39.169131,39.464886]}]],[[{"lng":[-117.033359,-117.044313,-117.038836,-117.055267,-116.92382,-116.918344,-118.988627,-119.125551,-119.525367,-119.963522,-120.209985,-120.505739,-120.637186,-121.18488,-121.217742,-121.535404,-121.809251,-122.247407,-122.762239,-122.811531,-122.904639,-123.11824,-123.211348,-123.370179,-123.545441,-123.72618,-123.874058,-124.065751,-124.027412,-123.895966,-124.098612,-124.235536,-124.31769,-124.427229,-124.624399,-124.706553,-124.597014,-124.394367,-123.983597,-123.704273,-123.424949,-123.162056,-123.036086,-122.800578,-122.636269,-122.515777,-122.493869,-122.422669,-122.324084,-122.422669,-122.395284,-122.230976,-122.362422,-122.373376,-122.471961,-122.422669,-122.488392,-122.647223,-122.795101,-122.756762,-117.033359],"lat":[49.000239,47.762451,46.426077,46.343923,46.168661,45.993399,45.998876,45.933153,45.911245,45.823614,45.725029,45.697644,45.746937,45.604536,45.670259,45.725029,45.708598,45.549767,45.659305,45.960537,46.08103,46.185092,46.174138,46.146753,46.261769,46.300108,46.239861,46.327492,46.464416,46.535616,46.74374,47.285957,47.357157,47.740543,47.88842,48.184175,48.381345,48.288237,48.162267,48.167744,48.118452,48.167744,48.080113,48.08559,47.866512,47.882943,47.587189,47.318818,47.346203,47.576235,47.800789,48.030821,48.123929,48.288237,48.468976,48.600422,48.753777,48.775685,48.8907,49.000239,49.000239]}],[{"lng":[-122.718423,-122.586977,-122.608885,-122.767716,-122.718423],"lat":[48.310145,48.35396,48.151313,48.227991,48.310145]}],[{"lng":[-123.025132,-122.915593,-122.767716,-122.811531,-123.041563,-123.025132],"lat":[48.583992,48.715438,48.556607,48.419683,48.458022,48.583992]}]],[[{"lng":[-80.518598,-80.518598,-79.477979,-79.488933,-79.291763,-79.094593,-78.96314700000001,-78.76597700000001,-78.47022200000001,-78.431884,-78.26757499999999,-78.17446700000001,-78.004682,-77.834897,-77.719881,-77.82942,-78.349729,-78.404499,-78.87003900000001,-78.996008,-79.209609,-79.313671,-79.477979,-79.647764,-79.724442,-79.921611,-79.998289,-80.184505,-80.294043,-80.29952,-80.474782,-80.513121,-80.967707,-81.225123,-81.362047,-81.55374,-81.679709,-81.84949400000001,-81.986418,-81.969987,-82.101434,-82.293127,-82.34241900000001,-82.50125,-82.621743,-82.594358,-82.33146499999999,-82.293127,-82.172634,-82.221926,-82.03570999999999,-81.887833,-81.783771,-81.811156,-81.685186,-81.57017,-81.455155,-81.34561600000001,-81.219646,-80.830783,-80.737675,-80.600752,-80.595275,-80.66647500000001,-80.518598],"lat":[40.636951,39.722302,39.722302,39.20747,39.300578,39.470363,39.437501,39.585379,39.514178,39.623717,39.61824,39.694917,39.601809,39.601809,39.322485,39.130793,39.464886,39.169131,38.763838,38.851469,38.495467,38.413313,38.457129,38.594052,38.364021,38.177805,37.997066,37.849189,37.690357,37.509618,37.421987,37.482234,37.290541,37.235771,37.339833,37.208387,37.20291,37.285064,37.454849,37.537003,37.553434,37.668449,37.783465,37.931343,38.123036,38.424267,38.446175,38.577622,38.632391,38.785745,39.026731,38.873376,38.966484,39.0815,39.273193,39.267716,39.410117,39.344393,39.388209,39.711348,40.078303,40.319289,40.472643,40.582182,40.636951]}]],[[{"lng":[-90.415429,-90.229213,-90.119674,-89.09001000000001,-88.662808,-88.531362,-88.10415999999999,-87.98914499999999,-87.781021,-87.79197499999999,-87.88508299999999,-87.649574,-87.742682,-87.58932799999999,-87.627666,-87.81935900000001,-87.98366799999999,-88.043914,-87.928898,-87.775544,-87.61123600000001,-87.40311199999999,-87.238804,-87.03068,-87.047111,-87.189511,-87.468835,-87.545512,-87.540035,-87.644097,-87.737205,-87.70434400000001,-87.79197499999999,-87.91246700000001,-87.88508299999999,-87.76459,-87.80292900000001,-88.78877799999999,-90.639984,-90.711184,-91.06718499999999,-91.143862,-91.17672399999999,-91.056231,-91.204109,-91.215062,-91.26983199999999,-91.242447,-91.43414,-91.59297100000001,-91.87777199999999,-91.927065,-92.233773,-92.337835,-92.545959,-92.808852,-92.737652,-92.75955999999999,-92.644544,-92.77051299999999,-92.88552900000001,-92.86909799999999,-92.639067,-92.354266,-92.29402,-92.29402,-92.091373,-92.014696,-91.79014100000001,-91.09457,-90.837154,-90.749522,-90.88644600000001,-90.55783,-90.415429],"lat":[46.568478,46.508231,46.338446,46.135799,45.987922,46.020784,45.922199,45.796229,45.675736,45.500474,45.363551,45.341643,45.199243,45.095181,44.974688,44.95278,44.722749,44.563917,44.536533,44.640595,44.837764,44.914442,45.166381,45.22115,45.089704,44.969211,44.552964,44.322932,44.158624,44.103854,43.8793,43.687607,43.561637,43.249452,43.002989,42.783912,42.493634,42.493634,42.510065,42.636034,42.75105,42.909881,43.134436,43.254929,43.353514,43.501391,43.616407,43.775238,43.994316,44.032654,44.202439,44.333886,44.443425,44.552964,44.569394,44.750133,45.117088,45.286874,45.440228,45.566198,45.577151,45.719552,45.933153,46.015307,46.075553,46.667063,46.749217,46.705401,46.694447,46.864232,46.95734,46.88614,46.754694,46.584908,46.568478]}]],[[{"lng":[-109.080842,-105.91517,-104.058488,-104.053011,-104.053011,-105.728954,-107.919731,-109.04798,-111.047063,-111.047063,-111.047063,-111.05254,-109.080842],"lat":[45.002073,45.002073,44.996596,43.002989,41.003906,40.998429,41.003906,40.998429,40.998429,42.000709,44.476286,45.002073,45.002073]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"white","weight":2,"opacity":1,"fill":true,"fillColor":["#FD8D3C","#FEB24C","#FEB24C","#FC4E2A","#FEB24C","#E31A1C","#E31A1C","#FC4E2A","#FD8D3C","#FED976","#FC4E2A","#FD8D3C","#FEB24C","#FED976","#FD8D3C","#FD8D3C","#FED976","#E31A1C","#E31A1C","#FD8D3C","#FEB24C","#FEB24C","#FEB24C","#FFFFCC","#FED976","#FED976","#FD8D3C","#B10026","#FFEDA0","#FC4E2A","#FC4E2A","#FFEDA0","#FC4E2A","#FEB24C","#FED976","#FC4E2A","#B10026","#FD8D3C","#FFEDA0","#FD8D3C","#FD8D3C","#FED976","#FEB24C","#FC4E2A","#FD8D3C","#FEB24C","#FD8D3C","#FFFFCC"],"fillOpacity":0.7,"dashArray":"3","smoothFactor":1,"noClip":false},null,null,["alabama: 101 people / sq mile","arizona: 65 people / sq mile","arkansas: 59 people / sq mile","california: 250 people / sq mile","colorado: 57 people / sq mile","connecticut: 747 people / sq mile","delaware: 529 people / sq mile","florida: 422 people / sq mile","georgia: 192 people / sq mile","idaho: 24 people / sq mile","illinois: 226 people / sq mile","indiana: 192 people / sq mile","iowa: 57 people / sq mile","kansas: 36 people / sq mile","kentucky: 115 people / sq mile","louisiana: 106 people / sq mile","maine: 45 people / sq mile","maryland: 637 people / sq mile","massachusetts: 898 people / sq mile","michigan: 178 people / sq mile","minnesota: 72 people / sq mile","mississippi: 63 people / sq mile","missouri: 90 people / sq mile","montana: 7.8 people / sq mile","nebraska: 26 people / sq mile","nevada: 29 people / sq mile","new hampshire: 157 people / sq mile","new jersey: 1263 people / sq mile","new mexico: 17 people / sq mile","new york: 415 people / sq mile","north carolina: 223 people / sq mile","north dakota: 11 people / sq mile","ohio: 288 people / sq mile","oklahoma: 59 people / sq mile","oregon: 44 people / sq mile","pennsylvania: 290 people / sq mile","rhode island: 1060 people / sq mile","south carolina: 179 people / sq mile","south dakota: 12 people / sq mile","tennessee: 173 people / sq mile","texas: 117 people / sq mile","utah: 42 people / sq mile","vermont: 70 people / sq mile","virginia: 221 people / sq mile","washington: 118 people / sq mile","west virginia: 74 people / sq mile","wisconsin: 109 people / sq mile","wyoming: 6 people / sq mile"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"15px","textOnly":false,"style":{"font-weight":"normal","padding":"3px 8px"},"className":"","sticky":true},{"color":"#666","weight":5,"fillOpacity":0.7,"dashArray":"","bringToFront":true}]},{"method":"addLegend","args":[{"colors":["#FFFFCC","#FFEDA0","#FED976","#FEB24C","#FD8D3C","#FC4E2A","#E31A1C","#B10026"],"labels":["0 &ndash; 10","10 &ndash; 20","20 &ndash; 50","50 &ndash; 100","100 &ndash; 200","200 &ndash; 500","500 &ndash; 1,000","1,000 &ndash; Inf"],"na_color":null,"na_label":"NA","opacity":0.7,"position":"bottomright","type":"bin","title":null,"extra":null,"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[25.120779,49.383625],"lng":[-124.706553,-66.979601]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="on-your-own" class="level3">
<h3 class="anchored" data-anchor-id="on-your-own">On Your Own</h3>
<ol type="1">
<li>Use the <code>rvest</code> package and <code>html_table</code> to read in the table of data found at the link <a href="https://en.wikipedia.org/wiki/List_of_United_States_cities_by_population">here</a> and create a scatterplot of land area versus the 2022 estimated population. I give you some starter code below; fill in the “???” and be sure you can explain what EVERY line of code does and why it’s necessary.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>city_pop <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">"https://en.wikipedia.org/wiki/List_of_United_States_cities_by_population"</span>)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>pop <span class="ot">&lt;-</span> <span class="fu">html_nodes</span>(???, ???)</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="fu">html_table</span>(pop, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>)  <span class="co"># find right table</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>pop2 <span class="ot">&lt;-</span> <span class="fu">html_table</span>(pop, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>)[[???]]</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>pop2</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a><span class="co"># perform the steps above with the polite package</span></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>session <span class="ot">&lt;-</span> <span class="fu">bow</span>(<span class="st">"https://en.wikipedia.org/wiki/List_of_United_States_cities_by_population"</span>, <span class="at">force =</span> <span class="cn">TRUE</span>)</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">scrape</span>(session) <span class="sc">|&gt;</span></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_nodes</span>(???) <span class="sc">|&gt;</span></span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_table</span>(<span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a>pop2 <span class="ot">&lt;-</span> result[[???]]</span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a>pop2</span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a>pop3 <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(pop2[,<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">8</span>)]) <span class="sc">|&gt;</span></span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(???) <span class="sc">|&gt;</span></span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">State</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">ST</span><span class="st">`</span>,</span>
<span id="cb56-20"><a href="#cb56-20" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Estimate2023</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">2023estimate</span><span class="st">`</span>,</span>
<span id="cb56-21"><a href="#cb56-21" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Census</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">2020census</span><span class="st">`</span>,</span>
<span id="cb56-22"><a href="#cb56-22" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Area</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">2020 land area</span><span class="st">`</span>,</span>
<span id="cb56-23"><a href="#cb56-23" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Density</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">2020 density</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb56-24"><a href="#cb56-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Estimate2023 =</span> <span class="fu">parse_number</span>(Estimate2023),</span>
<span id="cb56-25"><a href="#cb56-25" aria-hidden="true" tabindex="-1"></a>         <span class="at">Census =</span> <span class="fu">parse_number</span>(Census),</span>
<span id="cb56-26"><a href="#cb56-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">Change =</span> ???   <span class="co"># get rid of % but preserve +/-,</span></span>
<span id="cb56-27"><a href="#cb56-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">Area =</span> <span class="fu">parse_number</span>(Area),</span>
<span id="cb56-28"><a href="#cb56-28" aria-hidden="true" tabindex="-1"></a>         <span class="at">Density =</span> <span class="fu">parse_number</span>(Density)) <span class="sc">|&gt;</span> </span>
<span id="cb56-29"><a href="#cb56-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">City =</span> <span class="fu">str_replace</span>(City, <span class="st">"</span><span class="sc">\\</span><span class="st">[.*$"</span>, <span class="st">""</span>))</span>
<span id="cb56-30"><a href="#cb56-30" aria-hidden="true" tabindex="-1"></a>pop3</span>
<span id="cb56-31"><a href="#cb56-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-32"><a href="#cb56-32" aria-hidden="true" tabindex="-1"></a><span class="co"># pick out unusual points</span></span>
<span id="cb56-33"><a href="#cb56-33" aria-hidden="true" tabindex="-1"></a>outliers <span class="ot">&lt;-</span> pop3 <span class="sc">|&gt;</span> </span>
<span id="cb56-34"><a href="#cb56-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Estimate2023 <span class="sc">&gt;</span> ??? <span class="sc">|</span> Area <span class="sc">&gt;</span> ???)</span>
<span id="cb56-35"><a href="#cb56-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-36"><a href="#cb56-36" aria-hidden="true" tabindex="-1"></a><span class="co"># This will work if don't turn variables from chr to dbl, but in that </span></span>
<span id="cb56-37"><a href="#cb56-37" aria-hidden="true" tabindex="-1"></a><span class="co">#  case notice how axes are just evenly spaced categorical variables</span></span>
<span id="cb56-38"><a href="#cb56-38" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pop3, <span class="fu">aes</span>(<span class="at">x =</span> ???, <span class="at">y =</span> ???)) <span class="sc">+</span></span>
<span id="cb56-39"><a href="#cb56-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()  <span class="sc">+</span></span>
<span id="cb56-40"><a href="#cb56-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb56-41"><a href="#cb56-41" aria-hidden="true" tabindex="-1"></a>  ggrepel<span class="sc">::</span><span class="fu">geom_label_repel</span>(<span class="at">data =</span> ???, <span class="fu">aes</span>(<span class="at">label =</span> ???))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>We would like to create a tibble with 4 years of data (2001-2004) from the Minnesota Wild hockey team. Specifically, we are interested in the “Scoring Regular Season” table from <a href="https://www.hockey-reference.com/teams/MIN/2001.html">this webpage</a> and the similar webpages from 2002, 2003, and 2004. Your final tibble should have 6 columns: player, year, age, pos (position), gp (games played), and pts (points).</li>
</ol>
<p>You should (a) write a function called <code>hockey_stats</code> with inputs for team and year to scrape data from the “scoring Regular Season” table, and (b) use iteration techniques to scrape and combine 4 years worth of data. Here are some functions you might consider:</p>
<ul>
<li><code>row_to_names(row_number = 1)</code> from the <code>janitor</code> package</li>
<li><code>clean_names()</code> also from the <code>janitor</code> package</li>
<li><code>bow()</code> and <code>scrape()</code> from the <code>polite</code> package</li>
<li><code>str_c()</code> from the <code>stringr</code> package (for creating urls with user inputs)</li>
<li><code>map2()</code> and <code>list_rbind()</code> for iterating and combining years</li>
</ul>
<p>Try following these steps:</p>
<ol type="1">
<li><p>Be sure you can find and clean the correct table from the 2021 season.</p></li>
<li><p>Organize your <code>rvest</code> code from (1) into functions from the <code>polite</code> package.</p></li>
<li><p>Place the code from (2) into a function where the user can input a team and year. You would then adjust the url accordingly and produce a clean table for the user.</p></li>
<li><p>Use <code>map2</code> and <code>list_rbind</code> to build one data set containing Minnesota Wild data from 2001-2004.</p></li>
</ol>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Paul Roback, 2024<br> All content licensed under <img src="https://static.thenounproject.com/png/70967-200.png" height="20"> (<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>)</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Site built with <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>